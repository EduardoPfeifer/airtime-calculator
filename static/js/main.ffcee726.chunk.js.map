{"version":3,"sources":["lora/MacCommands.ts","components/help/HelpTooltip.tsx","components/input/helpers.tsx","components/input/NumberInput.tsx","components/input/UserConfig.ts","components/input/UserInput.tsx","lora/Airtime.ts","components/result/Result.tsx","components/result/Results.tsx","components/calculator/Router.ts","components/calculator/Calculator.tsx","serviceWorker.ts","index.tsx","App.tsx"],"names":["UplinkMacCommands102","name","size","DownlinkMacCommands102","HelpTooltip","_ref","text","_ref$placement","placement","console","log","react_default","a","createElement","OverlayTrigger_default","overlay","Tooltip_default","id","style","textAlign","react_markdown_default","source","className","withFormControl","state","value","onChange","event","target","currentTarget","setValue","NumberInput","_ref$min","min","useEffect","InputGroup_default","Prepend","Button_default","onClick","variant","FormControl_default","Object","assign","type","placeholder","aria-label","Append","v","defaults","payloadSize","headerSize","codingRate","UserInput","props","useParam","defaultValue","_useState","useState","_useState2","slicedToArray","params","arguments","length","undefined","result","values","split","map","trim","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","test","warn","concat","substr","join","lowerCase","toLowerCase","mac","find","cmd","macCommands","_iterator","Symbol","iterator","next","done","err","return","objectSpread","decodeUserConfig","userConfig","addMacCommand","setPacketSize","setCodingRate","setUserConfig","parts","push","replace","apply","toConsumableArray","encodeUserConfig","macCommandButtons","idx","key","Badge_default","pill","includes","Fragment","Form_default","Row","Group","as","Col","controlId","Label","Control","Col_default","md","ButtonToolbar_default","Airtime","sf","bw","lowDrOptimize","explicitHeader","preambleLength","tSym","Math","pow","tPreamble","h","de","cr","max","ceil","toFixed","Result","dr","airtime","Card_default","Header","Title","notes","Subtitle","Footer","floor","Results","region","packetSize","results","dataRates","calculate","xs","Row_default","parseUrl","history","location","config","_location$pathname$su","pathname","process","_location$pathname$su2","networkName","regionName","parameters","network","networks","regions","Calculator","changeUrl","current","url","bind","_parseUrl","n","r","defaultRegion","_useState3","_useState4","ButtonGroup_default","active","disabled","label","lg","title","description","Boolean","window","hostname","match","ReactDOM","render","configUrl","progress","setProgress","setConfig","didCancel","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","axios","get","sent","data","t0","stop","this","fetchConfig","react_router_dom","basename","Container_default","react_router","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ffcee726.chunk.js","sourcesContent":["export type MacCommand = {\n  name: string;\n  /**\n   * The command's payload size, excluding the byte for the MAC command itself.\n   */\n  size: number;\n}\n\n/**\n * The LoRaWAN 1.0.2 MAC commands and their payload sizes, if any (excluding the\n * one byte for the MAC command itself). Some commands can be present in the\n * very same LoRaWAN packet multiple times.\n */\nexport const UplinkMacCommands102: MacCommand[] = [\n  {name: 'LinkCheckReq', size: 0},\n  {name: 'LinkAdrAns', size: 1},\n  {name: 'DutyCycleAns', size: 0},\n  {name: 'RXParamSetupAns', size: 1},\n  {name: 'DevStatusAns', size: 2},\n  {name: 'NewChannelAns', size: 1},\n  {name: 'DlChannelAns', size: 1},\n  {name: 'RXTimingSetupAns', size: 0},\n  {name: 'TxParamSetupAns', size: 0}\n];\n\nexport const DownlinkMacCommands102: MacCommand[] = [\n  {name: 'LinkCheckAns', size: 2},\n  {name: 'LinkAdrReq', size: 4},\n  {name: 'DutyCycleReq', size: 1},\n  {name: 'RXParamSetupReq', size: 4},\n  {name: 'DevStatusReq', size: 0},\n  {name: 'NewChannelReq', size: 5},\n  {name: 'DlChannelReq', size: 4},\n  {name: 'RXTimingSetupReq', size: 1},\n  {name: 'TxParamSetupReq', size: 1},\n];\n","import React from 'react';\nimport { Placement } from 'react-bootstrap/Overlay';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport ReactMarkdown from 'react-markdown';\n\ntype HelpTooltipProps = {\n  text?: string;\n  placement?: Placement;\n}\n\n/**\n * Shows an information icon for a tooltip, if the optional help text is set.\n */\nexport default function HelpTooltip({text, placement = \"bottom\"}: HelpTooltipProps) {\n  if (!text) {\n    return null;\n  }\n  console.log(text);\n\n  return (\n    <sup>\n      <OverlayTrigger placement={placement} overlay={\n        <Tooltip id=\"dummy\">\n          <div style={{textAlign: \"left\"}}>\n          <ReactMarkdown source={text} />\n          </div>\n        </Tooltip>\n      }>\n        <small className=\"text-muted\">&#9432;</small>\n      </OverlayTrigger>\n    </sup>\n  );\n}\n","import React, { Dispatch, SetStateAction } from 'react';\n\n/**\n * Returns an object that can be spread for use in Bootstrap forms, like `<FormControl {...withFormControl(state)}/>`.\n */\nexport function withFormControl<T>(state: { value: T, setValue: Dispatch<SetStateAction<T>> }) {\n\n  // See https://github.com/react-bootstrap/react-bootstrap/issues/2781\n  function onChange(event: React.FormEvent<any>) {\n    // function onChange(event: React.FormEventHandler) {\n    const target = event.currentTarget;\n    state.setValue(typeof state.value === 'number' ? +target.value as any : target.value);\n  }\n\n  // FormControl expects a string for value\n  return {value: '' + state.value, onChange};\n}\n","import React, { Dispatch, SetStateAction, useEffect, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport FormControl from 'react-bootstrap/FormControl';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport { withFormControl } from './helpers';\n\ntype NumberInputProps = {\n  min?: number;\n  value: number;\n  setValue: Dispatch<SetStateAction<number>>;\n};\n\n/**\n * A Bootstrap form input field with decrement and increment buttons.\n */\nexport default function NumberInput({min = 0, value, setValue}: NumberInputProps) {\n\n  function useParam<T>(defaultValue: T) {\n    const [value, setValue] = useState(defaultValue);\n    return {value, setValue};\n  }\n\n  function dec() {\n    if (value > min) {\n      setValue(value - 1);\n    }\n  }\n\n  function inc() {\n    setValue(v => v + 1);\n  }\n\n  useEffect(() => {\n    setValue(value);\n  }, [value]);\n\n  return (\n    <InputGroup className=\"mb-3\">\n      <InputGroup.Prepend>\n        <Button onClick={dec} variant=\"outline-secondary\">-</Button>\n      </InputGroup.Prepend>\n      <FormControl {...withFormControl({value, setValue})} type=\"number\" min={min} placeholder=\"Enter number\"\n                   aria-label=\"Number\" />\n      <InputGroup.Append>\n        <Button onClick={inc} variant=\"outline-secondary\">+</Button>\n      </InputGroup.Append>\n    </InputGroup>\n  );\n}\n","import { CodingRate } from '../../lora/Airtime';\nimport { DownlinkMacCommands102, MacCommand, UplinkMacCommands102 } from '../../lora/MacCommands';\n\ntype UserConfig = {\n  macCommands?: MacCommand[];\n} & typeof defaults;\n\nexport const defaults = {\n  payloadSize: 6,\n  headerSize: 13,\n  codingRate: '4/5' as CodingRate\n};\n\n/**\n * Takes the first integer argument to be the application payload size, the second as the LoRaWAN header size,\n * a single string starting with \"cr\" as the coding rate, and all other values as possible MAC commands.\n */\nexport function decodeUserConfig(params: string = ''): UserConfig {\n  const result: UserConfig = {} as any;\n  const values = params.split(',').map(v => v.trim());\n  for (let value of values) {\n    if (value === '') {\n      continue;\n    }\n\n    if (/^\\d+$/.test(value)) {\n      // The first integer denotes the payload size, the second the header size\n      if (!result.payloadSize) {\n        result.payloadSize = +value;\n      } else if (!result.headerSize) {\n        result.headerSize = +value;\n      } else {\n        console.warn(`Ignored numeric value ${value}; already parsed both payloadSize and headerSize`);\n      }\n      continue;\n    }\n\n    if (/^cr4[5678]$/i.test(value)) {\n      if (!result.codingRate) {\n        result.codingRate = (value.substr(2).split('').join('/') as CodingRate);\n      } else {\n        console.warn(`Ignored string value ${value}; already parsed codingRate`);\n      }\n      continue;\n    }\n\n    // Case-insensitive search in both the uplink and downlink MAC commands\n    const lowerCase = value.toLowerCase();\n    const mac = UplinkMacCommands102.concat(DownlinkMacCommands102)\n      .find(cmd => cmd.name.toLowerCase() === lowerCase);\n    if (mac) {\n      result.macCommands = (result.macCommands || []).concat(mac);\n    } else {\n      console.warn(`Ignored string value ${value}; no matching MAC command found`);\n    }\n  }\n\n  return {...defaults, ...result};\n}\n\n/**\n * Encodes the user inputs for use in an URL segment.\n */\nexport function encodeUserConfig(payloadSize: number, headerSize: number, codingRate?: CodingRate, macCommands?: MacCommand[]) {\n  const parts: (string | number)[] = [];\n  if (payloadSize !== defaults.payloadSize || headerSize !== defaults.headerSize) {\n    parts.push(payloadSize);\n  }\n  if (headerSize !== defaults.headerSize) {\n    parts.push(headerSize);\n  }\n  if (codingRate && codingRate !== defaults.codingRate) {\n    parts.push('cr' + codingRate.replace('/', ''));\n  }\n  if (macCommands) {\n    parts.push(...macCommands.map(cmd => cmd.name));\n  }\n  return parts.join(',');\n}\n","import React, { useEffect, useState } from 'react';\nimport Badge from 'react-bootstrap/Badge';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport { CodingRate } from '../../lora/Airtime';\nimport { MacCommand, UplinkMacCommands102 } from '../../lora/MacCommands';\nimport HelpTooltip from '../help/HelpTooltip';\nimport { withFormControl } from './helpers';\nimport NumberInput from './NumberInput';\nimport { decodeUserConfig, encodeUserConfig } from './UserConfig';\n\n/**\n * The components determines its parameters given its URL fragment, and only tells the parent component about the total\n * packet size and the coding rate.\n */\ntype UserConfigProps = {\n  userConfig?: string;\n  setPacketSize: (size: number) => void;\n  setCodingRate: (cr: CodingRate) => void;\n  setUserConfig: (fragment: string) => void;\n};\n\n\n/**\n * Form using some controlled components to input the packet's details.\n *\n * TODO The state is maintained by the parent component.\n *\n * This reports the total LoRa packet size, the coding rate and its own fragment in the URL to its parent.\n *\n * /ttn/eu868/1.0.x,4/5,15,LinkCheckReq,LinkAdrAns,DutyCycleAns,RXParamSetupAns,DevStatusAns,NewChannelAns,RXTimingSetupAns,TxParamSetupAns,DlChannelAns\n *\n *\n */\nexport default function UserInput(props: UserConfigProps) {\n\n  function useParam<T>(defaultValue: T) {\n    const [value, setValue] = useState(defaultValue);\n    return {value, setValue};\n  }\n\n  const params = decodeUserConfig(props.userConfig);\n  const payloadSize = useParam(params.payloadSize);\n  const headerSize = useParam(params.headerSize);\n  const codingRate = useParam(params.codingRate);\n  const macCommands = useParam(params.macCommands);\n\n  function increaseHeaderSize(size: number) {\n    headerSize.setValue(v => v + size);\n    // Same result:\n    // headerSize.setValue(headerSize.value + size);\n  }\n\n  function addMacCommand(cmd: MacCommand) {\n    macCommands.setValue((macCommands.value || []).concat(cmd));\n    increaseHeaderSize(cmd.size + 1);\n  }\n\n  useEffect(() => {\n    props.setPacketSize(headerSize.value + payloadSize.value);\n  }, [headerSize, payloadSize]);\n\n  useEffect(() => {\n    props.setCodingRate(codingRate.value);\n  }, [codingRate]);\n\n  /**\n   * Tells the parent that the user's configuration has changed, to keep the URL synchronized with the current inputs.\n   *\n   * Rather than this callback, we could use a Route in the parent component and manage our own URL segment here.\n   * However, by design, when the user configuration only uses default values then that segment would not exist. And as\n   * the routing does not provide an API to only change a specific URL segment, this component would need to know about\n   * the URL segments of its parent to reliably change its own segment. (Like to detect excessive slashes and avoid\n   * endless loops.) Instead, the URL segment is passed to this component, and this component notifies the parent about\n   * changes. The parent needs to know about this segment anyhow, like when the parent component changes the region for\n   * which the user configuration should be preserved.\n   */\n  useEffect(() => {\n    props.setUserConfig(encodeUserConfig(payloadSize.value, headerSize.value, codingRate.value, macCommands.value));\n  }, [headerSize, payloadSize, codingRate]);\n\n  const macCommandButtons = UplinkMacCommands102.map((cmd, idx) => (\n    <div key={idx}>\n      <Badge onClick={() => addMacCommand(cmd)}\n             pill\n             variant={params.macCommands && params.macCommands.includes(cmd) ? 'primary' : 'secondary'}>{cmd.name} {cmd.size}</Badge>\n      &nbsp;\n    </div>\n  ));\n\n  return (\n    <>\n      <Form>\n        <Form.Row>\n          <Form.Group as={Col} controlId=\"formHeaderSize\">\n            <Form.Label>\n              Header size\n              {/*TODO For proper accessibility this should be outside the <label>*/}\n              <HelpTooltip\n                text={\"In a LoRaWAN 1.0.x uplink and downlink, the header is at least 13 bytes:\\n\\n- MType (1 byte)\\n- DevAddr (4)\\n- FCtrl (1)\\n- FCnt (2)\\n- FPort (1)\\n- MIC (4)\"} />\n            </Form.Label>\n            <NumberInput {...headerSize} min={13} />\n          </Form.Group>\n\n          <Form.Group as={Col} controlId=\"formApplicationPayloadSize\">\n            <Form.Label>\n              Payload size\n              <HelpTooltip\n                text=\"The application payload size. Might be empty for a simple ACK or if the packet only includes MAC commands.\" />\n            </Form.Label>\n            <NumberInput {...payloadSize} />\n          </Form.Group>\n\n          <Form.Group as={Col} controlId=\"formCodingRate\">\n            <Form.Label>\n              Coding rate\n              <HelpTooltip text=\"The coding rate (CR) used for forward error correction (FEC).\" />\n            </Form.Label>\n            <Form.Control as=\"select\" {...withFormControl(codingRate)} className=\"xxtext-primary xxborder-primary\">\n              <option value=\"4/5\">4/5</option>\n              <option value=\"4/6\">4/6</option>\n              <option value=\"4/7\">4/7</option>\n              <option value=\"4/8\">4/8</option>\n            </Form.Control>\n          </Form.Group>\n        </Form.Row>\n\n        {/* TODO Work in progress: somehow allow for adding/removing MAC commands; for now only when already in URL. */}\n        {params.macCommands && (\n          <>\n            <Form.Row className=\"justify-content-md-center\">\n              <Col md=\"8\">\n                <Form.Label>MAC command</Form.Label>\n                <ButtonToolbar aria-label=\"MAC commands\">{macCommandButtons}</ButtonToolbar>\n              </Col>\n            </Form.Row>\n            <br />\n          </>\n        )}\n      </Form>\n    </>\n  );\n}\n","export type CodingRate = '4/5' | '4/6' | '4/7' | '4/8';\n\nexport default class Airtime {\n  /**\n   * Calculates the LoRa airtime in microseconds.\n   *\n   * See https://www.semtech.com/uploads/documents/LoraDesignGuide_STD.pdf#page=7\n   *\n   * Spreading factor and bandwidth together define the data rate.\n   *\n   * @param size full packet size\n   * @param sf spreading factor, 6..12 (6 is not used in LoRaWAN)\n   * @param bw bandwidth in kHz, typically 125, sometimes 250 or 500\n   * @param codingRate coding rate, '4/5', '4/6', '4/7' or '4/8'\n   * @param lowDrOptimize low data rate optimization, 'auto', true or false\n   * @param explicitHeader true for LoRaWAN: this is the low-level header that\n   *        indicates coding rate, payload length and payload CRC presence. In\n   *        plain LoRa it can be left out if both sides have these parameters\n   *        fixed.\n   * @param preambleLength\n   */\n  static calculate(size: number, sf: number, bw = 125, codingRate: CodingRate = '4/5',\n                   lowDrOptimize: 'auto' | true | false = 'auto', explicitHeader = true, preambleLength = 8) {\n\n    // time in milliseconds\n    const tSym = Math.pow(2, sf) / (bw * 1000) * 1000;\n    const tPreamble = (preambleLength + 4.25) * tSym;\n\n    // H = 0 when the header is enabled, H = 1 when no header is present.\n    const h = explicitHeader ? 0 : 1;\n    // DE = 1 when the low data rate optimization is enabled, DE = 0 for disabled.\n    // When 'auto' then only for SF11 and SF12, on 125kHz\n    const de = ((lowDrOptimize === 'auto' && +bw === 125 && +sf >= 11) || lowDrOptimize === true) ? 1 : 0;\n    // CR is the coding rate from 1 to 4\n    const cr = +codingRate[2] - 4;\n    const payloadSymbNb = 8 + Math.max(Math.ceil(\n      (8 * size - 4 * sf + 28 + 16 - 20 * h) / (4 * (sf - 2 * de))) * (cr + 4), 0);\n    const tPayload = payloadSymbNb * tSym;\n\n    return +(tPreamble + tPayload).toFixed(2);\n  }\n}\n","import React from 'react';\nimport Card from 'react-bootstrap/Card';\nimport { DataRate } from '../../AppConfig';\nimport HelpTooltip from '../help/HelpTooltip';\n\ntype ResultCardProps = {\n  dr: DataRate;\n  airtime: number;\n}\n\n/**\n * A single result, showing the data rate (SF, bandwidth), time on air and calculated limits.\n */\nexport function Result({dr, airtime}: ResultCardProps) {\n  return (\n    <Card>\n      <Card.Header>\n        <Card.Title>\n          {dr.name}\n          <HelpTooltip text={dr.notes} placement=\"top\" />\n        </Card.Title>\n        <Card.Subtitle as=\"h4\">\n          {/* SF{dr.sf} yields a newline between SF and the value */}\n          <span className=\"sf\">{'SF' + dr.sf}</span>\n          <span className=\"bw\">BW<br />{dr.bw}</span>\n        </Card.Subtitle>\n      </Card.Header>\n\n      <Card.Title as=\"h4\">\n        {airtime}<span className=\"Result-unit\">ms</span>\n      </Card.Title>\n      <Card.Footer>\n        <div>\n          {Math.floor(30000 / airtime)}<span className=\"Result-unit\">/24h</span>\n        </div>\n        <div>\n          {(30000 / 24 / airtime).toFixed(1)}<span className=\"Result-unit\">avg<br />/hour</span>\n        </div>\n      </Card.Footer>\n    </Card>\n  );\n}\n","import React from 'react';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport { Region } from '../../AppConfig';\nimport Airtime, { CodingRate } from '../../lora/Airtime';\nimport { Result } from './Result';\n\ntype ResultsProps = {\n  region: Region;\n  packetSize: number;\n  codingRate: CodingRate;\n};\n\n/**\n * Shows the results of the airtime calculations.\n */\nexport default function Results({region, packetSize, codingRate}: ResultsProps) {\n\n  if (!codingRate) {\n    return null;\n  }\n\n  const results = region.dataRates.map((dr) => {\n    const airtime = Airtime.calculate(packetSize, dr.sf, dr.bw, codingRate);\n    return (\n      <Col key={dr.name} xs=\"auto\">\n        {/*<Col xs=\"12\" sm=\"auto\" md=\"3\" lg=\"2\" xl=\"auto\">*/}\n        <Result dr={dr} airtime={airtime} />\n      </Col>\n    );\n  });\n\n  return (\n    <>\n      {/* Though the nested Result is actually a Card, a CardDeck does not yield a proper responsive result. */}\n      <Row className=\"justify-content-md-center\">\n        {results}\n      </Row>\n    </>\n  );\n}\n","import { History, Location } from 'history';\nimport { AppConfig, Network, Region } from '../../AppConfig';\n\n/**\n * Custom URL handling:\n *\n * - Updated URL for almost each change in the user input\n * - URL does not include default values, and no trailing slash if all parameters are defaults\n * - Changing the network or region only replaces part of the URL, without wiping the trailing parameters\n */\n\nexport function parseUrl(history: History, location: Location, config: AppConfig): { network: Network | undefined, region: Region | undefined, parameters: string | undefined } {\n  // Even when using `<Router basename={process.env.PUBLIC_URL}>`, when deployed in a subfolder then\n  // location.pathname will still be the full path, including whatever is in process.env.PUBLIC_URL,\n  // so including that subfolder.\n  const [, networkName, regionName, parameters] = location.pathname.substr(process.env.PUBLIC_URL.length).split('/');\n  const network = config.networks.find(network => network.name === networkName);\n  const region = network ? network.regions.find(region => region.name === regionName) : undefined;\n  return {network, region, parameters};\n}\n\nexport function setUrl(history: History, location: Location, config: AppConfig, network: Network, region: Region, parameters?: string) {\n  const current = parseUrl(history, location, config);\n  // current.parameters might be undefined as well\n  const params = parameters === undefined ? current.parameters : parameters;\n  const url = process.env.PUBLIC_URL + '/' + network.name + '/' + region.name + (params ? '/' + params : '');\n  if (location.pathname === url) {\n    console.log(`No URL change needed; ${url}`);\n    return;\n  }\n  history.replace(url);\n}\n","import React, { useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport ReactMarkdown from 'react-markdown';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { AppConfig, Region } from '../../AppConfig';\nimport { CodingRate } from '../../lora/Airtime';\nimport UserInput from '../input/UserInput';\nimport Results from '../result/Results';\nimport { parseUrl, setUrl } from './Router';\n\ntype CalculatorProps = {\n  config: AppConfig;\n} & RouteComponentProps;\n\n/**\n * The user inputs and the calculated results.\n *\n * Most state is also kept in the URL, as we want that to be copy-paste ready.\n */\nexport default function Calculator(props: CalculatorProps) {\n\n  const changeUrl = setUrl.bind(null, props.history, props.location, props.config);\n  const {network, region, parameters} = parseUrl(props.history, props.location, props.config);\n\n  if (!network) {\n    const n = props.config.networks[0];\n    const r = n.regions.find(r => r.name === n.defaultRegion) as Region;\n    changeUrl(n, r);\n    return null;\n  }\n\n  if (!region) {\n    const r = network.regions.find(r => r.name === network.defaultRegion) as Region;\n    changeUrl(network, r);\n    return null;\n  }\n\n  // The real defaults are set in the UserInput component, and posted back using callbacks\n  const [packetSize, setPacketSize] = useState<number>(null as any);\n  const [codingRate, setCodingRate] = useState<CodingRate>(null as any);\n\n  const handlePacketSizeChange = (size: number) => {\n    console.log('packet size', packetSize, size);\n    setPacketSize(size);\n  };\n\n  const handleCodingRateChange = (cr: CodingRate) => {\n    console.log('coding rate', codingRate, cr);\n    setCodingRate(cr);\n  };\n\n  /**\n   * Saves the updated user configuration in the current URL.\n   */\n  const handleParametersChange = (parameters: string) => {\n    console.log('URL', parameters);\n    changeUrl(network, region, parameters);\n  };\n\n  const setRegion = (region: Region) => {\n    console.log('region', region);\n    changeUrl(network, region);\n  };\n\n  return (\n    <>\n      <Row>\n        <Col className=\"table-responsive\">\n          <ButtonGroup>\n            {network.regions.map((r) =>\n              <Button variant=\"outline-primary\" size=\"sm\" active={r.name === region.name} disabled={!r.dataRates}\n                      key={r.name} onClick={() => setRegion(r)}>{r.label}</Button>\n            )}\n          </ButtonGroup>\n        </Col>\n      </Row>\n\n      <Row>\n        <hr />\n      </Row>\n\n      <Row className=\"justify-content-md-center\">\n        <Col md=\"auto\">\n          <UserInput userConfig={parameters} setUserConfig={handleParametersChange}\n                     setPacketSize={handlePacketSizeChange} setCodingRate={handleCodingRateChange}\n          />\n        </Col>\n      </Row>\n\n      <Row className=\"justify-content-md-center\">\n        <Col lg=\"8\">\n          <h2>{network.title} {region.label}</h2>\n          {region.description && (\n            <ReactMarkdown source={region.description} />\n          )}\n        </Col>\n      </Row>\n\n      <Results region={region} packetSize={packetSize} codingRate={codingRate} />\n    </>\n  );\n\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport './App.scss';\nimport { AppConfig } from './AppConfig';\nimport Calculator from './components/calculator/Calculator';\n\n/**\n * Loads the JSON configuration file and renders the application.\n */\nexport default function App() {\n  const configUrl = process.env.PUBLIC_URL + '/config.json';\n  const [progress, setProgress] = useState<string | null>('Loading configuration...');\n  const [config, setConfig] = useState({} as AppConfig);\n\n  // Given the empty array for deps, this only runs once, when component mounts;\n  // https://reactjs.org/docs/hooks-reference.html#conditionally-firing-an-effect\n  useEffect(() => {\n    let didCancel = false;\n    const fetchConfig = async () => {\n      try {\n        // By default, axios expects JSON in UTF8, and converts that on the fly\n        const result = (await axios.get<AppConfig>(configUrl)).data;\n        if (!didCancel) {\n          setProgress(null);\n          setConfig(result);\n        }\n      } catch (error) {\n        // TODO fine for 404, but this does not catch JSON parse errors?\n        setProgress(`Failed to load configuration ${process.env.PUBLIC_URL} ${configUrl}: ${error}`);\n      }\n    };\n\n    // Workaround to suppress the following React warning:\n    //   Warning: useEffect function must return a cleanup function or nothing.\n    //   Promises and useEffect(async () => ...) are not supported, but you can\n    //   call an async function inside an effect.\n    // This will still make the compiler warn about ignoring the returned Promise.\n    fetchConfig();\n    return () => {\n      didCancel = true;\n    };\n  }, []);\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <Container className=\"App\">\n        <Row>\n          <Col>\n            <h1>LoRaWAN 1.0.x airtime calculator</h1>\n            {/*TODO check if IE does not show text null */}\n            <p>{progress}</p>\n          </Col>\n        </Row>\n        {config.networks && (\n          <Route render={props => <Calculator {...props} config={config} />} />\n        )}\n      </Container>\n    </Router>\n  );\n}\n"],"sourceRoot":""}