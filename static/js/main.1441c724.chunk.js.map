{"version":3,"sources":["lora/MacCommands.ts","components/help/HelpTooltip.tsx","components/input/helpers.tsx","components/input/NumberInput.tsx","components/input/UserConfig.ts","components/input/UserInput.tsx","lora/Airtime.ts","components/result/helpers.ts","components/result/Result.tsx","components/result/Results.tsx","components/scroll/HorizontalScroll.tsx","components/calculator/Router.ts","components/calculator/Calculator.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["UplinkMacCommands102","name","size","DownlinkMacCommands102","HelpTooltip","content","showIcon","placement","children","useState","uniqueId","id","OverlayTrigger","overlay","Tooltip","className","withFormControl","state","value","onChange","event","target","currentTarget","setValue","NumberInput","min","useEffect","InputGroup","Prepend","Button","onClick","variant","aria-label","FormControl","type","placeholder","Append","v","defaults","payloadSize","headerSize","codingRate","UserInput","props","useParam","defaultValue","params","result","values","split","map","trim","test","console","warn","substr","join","lowerCase","toLowerCase","mac","concat","find","cmd","macCommands","decodeUserConfig","userConfig","addMacCommand","setPacketSize","setCodingRate","setUserConfig","parts","push","replace","encodeUserConfig","macCommandButtons","idx","key","Badge","pill","includes","Form","Row","Group","as","Col","controlId","Label","Control","md","ButtonToolbar","Airtime","sf","bw","lowDrOptimize","explicitHeader","preambleLength","tSym","Math","pow","tPreamble","h","de","cr","payloadSymbNb","max","ceil","tPayload","fmt","n","digits","toLocaleString","minimumFractionDigits","maximumFractionDigits","withFullStops","lines","reduce","acc","line","slice","undefined","Result","seconds","region","dr","airtime","maxPhyPayloadSize","dcDelay","fapMessages","fapDelay","maxDwellTime","dwellTimeExceeded","sizeExceeded","maxMacPayloadSize","notes","role","href","document","location","label","floor","Results","packetSize","results","dataRates","calculate","tooLong","oddEven","highlight","length","HorizontalScroll","scrollContainer","useRef","hasOverflowLeft","setHasOverflowLeft","hasOverflowRight","setHasOverflowRight","width","height","resize","scrollX","x","scroll","current","scrollBy","handleScroll","scrollLeft","scrollWidth","offsetWidth","log","window","addEventListener","removeEventListener","ref","parseUrl","history","config","pathname","networkName","regionName","parameters","network","networks","regions","setUrl","url","Calculator","changeUrl","bind","r","defaultRegion","ButtonGroup","active","disabled","setRegion","title","limitations","source","countries","App","configUrl","process","progress","setProgress","setConfig","onCopy","e","ClipboardEvent","clipboardData","tooltip","querySelector","HTMLElement","innerHTML","setData","textContent","preventDefault","setClipboard","getSelection","selection","toString","hasSelection","table","groups","querySelectorAll","html","Array","from","header","row","cell","error","didCancel","a","axios","get","data","fetchConfig","basename","Container","fluid","render","Boolean","hostname","match","ReactDOM","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.1441c724.chunk.js","sourcesContent":["export type MacCommand = {\n  name: string;\n  /**\n   * The command's payload size, excluding the byte for the MAC command itself.\n   */\n  size: number;\n};\n\n/**\n * The LoRaWAN 1.0.2 MAC commands and their payload sizes, if any (excluding\n * the one byte for the MAC command itself). Some commands can be present in\n * the very same LoRaWAN packet multiple times.\n */\nexport const UplinkMacCommands102: MacCommand[] = [\n  {name: 'LinkCheckReq', size: 0},\n  {name: 'LinkAdrAns', size: 1},\n  {name: 'DutyCycleAns', size: 0},\n  {name: 'RXParamSetupAns', size: 1},\n  {name: 'DevStatusAns', size: 2},\n  {name: 'NewChannelAns', size: 1},\n  {name: 'DlChannelAns', size: 1},\n  {name: 'RXTimingSetupAns', size: 0},\n  {name: 'TxParamSetupAns', size: 0},\n];\n\nexport const DownlinkMacCommands102: MacCommand[] = [\n  {name: 'LinkCheckAns', size: 2},\n  {name: 'LinkAdrReq', size: 4},\n  {name: 'DutyCycleReq', size: 1},\n  {name: 'RXParamSetupReq', size: 4},\n  {name: 'DevStatusReq', size: 0},\n  {name: 'NewChannelReq', size: 5},\n  {name: 'DlChannelReq', size: 4},\n  {name: 'RXTimingSetupReq', size: 1},\n  {name: 'TxParamSetupReq', size: 1},\n];\n","import React, {PropsWithChildren, useState} from 'react';\nimport {Placement} from 'react-bootstrap/Overlay';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport {uniqueId} from 'lodash';\nimport './HelpTooltip.scss';\n\ntype HelpTooltipProps = {\n  content?: string | React.ReactElement;\n  showIcon?: boolean;\n  placement?: Placement;\n};\n\n/**\n * Add an information icon for a tooltip to the given element, if the optional\n * help text is set.\n */\nexport default function HelpTooltip({\n  content,\n  showIcon = false,\n  placement = 'auto-end',\n  children,\n}: PropsWithChildren<HelpTooltipProps>) {\n  const [id] = useState(() => uniqueId('HelpTooltip-'));\n\n  if (!content) {\n    return <>{children}</>;\n  }\n\n  return (\n    <OverlayTrigger placement={placement} overlay={<Tooltip id={id}>{content}</Tooltip>}>\n      <div>\n        {children}\n        {showIcon && (\n          <sup>\n            <small className=\"text-muted\">&#9432;</small>\n          </sup>\n        )}\n      </div>\n    </OverlayTrigger>\n  );\n}\n","import React, {Dispatch, SetStateAction} from 'react';\n\n/**\n * Returns an object that can be spread for use in Bootstrap forms, like\n * `<FormControl {...withFormControl(state)}/>`.\n */\nexport function withFormControl<T>(state: {value: T; setValue: Dispatch<SetStateAction<T>>}) {\n  // See https://github.com/react-bootstrap/react-bootstrap/issues/2781\n  function onChange(event: React.FormEvent<any>) {\n    // function onChange(event: React.FormEventHandler) {\n    const target = event.currentTarget;\n    state.setValue(typeof state.value === 'number' ? (+target.value as any) : target.value);\n  }\n\n  // FormControl expects a string for value\n  return {value: '' + state.value, onChange};\n}\n","import React, {Dispatch, SetStateAction, useEffect} from 'react';\nimport Button from 'react-bootstrap/Button';\nimport FormControl from 'react-bootstrap/FormControl';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport {withFormControl} from './helpers';\nimport './NumberInput.scss';\n\ntype NumberInputProps = {\n  min?: number;\n  value: number;\n  setValue: Dispatch<SetStateAction<number>>;\n};\n\n/**\n * A Bootstrap form input field with decrement and increment buttons.\n */\nexport default function NumberInput({min = 0, value, setValue}: NumberInputProps) {\n  function dec() {\n    if (value > min) {\n      setValue(value - 1);\n    }\n  }\n\n  function inc() {\n    setValue((v) => v + 1);\n  }\n\n  useEffect(() => {\n    setValue(value);\n  }, [value, setValue]);\n\n  return (\n    <InputGroup className=\"mb-3\">\n      <InputGroup.Prepend>\n        <Button onClick={dec} variant=\"outline-secondary\" aria-label=\"Decrease\">\n          -\n        </Button>\n      </InputGroup.Prepend>\n      <FormControl\n        {...withFormControl({value, setValue})}\n        type=\"number\"\n        className=\"NumberInput\"\n        min={min}\n        placeholder=\"Enter number\"\n      />\n      <InputGroup.Append>\n        <Button onClick={inc} variant=\"outline-secondary\" aria-label=\"Increase\">\n          +\n        </Button>\n      </InputGroup.Append>\n    </InputGroup>\n  );\n}\n","import {CodingRate} from '../../lora/Airtime';\nimport {DownlinkMacCommands102, MacCommand, UplinkMacCommands102} from '../../lora/MacCommands';\n\ntype UserConfig = {\n  macCommands?: MacCommand[];\n} & typeof defaults;\n\nexport const defaults = {\n  payloadSize: 12,\n  headerSize: 13,\n  codingRate: '4/5' as CodingRate,\n};\n\n/**\n * Takes the first integer argument to be the application payload size, the\n * second as the LoRaWAN header size, a single string starting with \"cr\" as the\n * coding rate, and all other values as possible MAC commands.\n */\nexport function decodeUserConfig(params: string = ''): UserConfig {\n  const result: UserConfig = {} as any;\n  const values = params.split(',').map((v) => v.trim());\n  for (let value of values) {\n    if (value === '') {\n      continue;\n    }\n\n    if (/^\\d+$/.test(value)) {\n      // The first integer denotes the payload size, the second the header size\n      if (!result.payloadSize) {\n        result.payloadSize = +value;\n      } else if (!result.headerSize) {\n        result.headerSize = +value;\n      } else {\n        console.warn(\n          `Ignored numeric value ${value}; already parsed both payloadSize and headerSize`\n        );\n      }\n      continue;\n    }\n\n    if (/^cr4[5678]$/i.test(value)) {\n      if (!result.codingRate) {\n        result.codingRate = value.substr(2).split('').join('/') as CodingRate;\n      } else {\n        console.warn(`Ignored string value ${value}; already parsed codingRate`);\n      }\n      continue;\n    }\n\n    // Case-insensitive search in both the uplink and downlink MAC commands\n    const lowerCase = value.toLowerCase();\n    const mac = UplinkMacCommands102.concat(DownlinkMacCommands102).find(\n      (cmd) => cmd.name.toLowerCase() === lowerCase\n    );\n    if (mac) {\n      result.macCommands = (result.macCommands || []).concat(mac);\n    } else {\n      console.warn(`Ignored string value ${value}; no matching MAC command found`);\n    }\n  }\n\n  return {...defaults, ...result};\n}\n\n/**\n * Encodes the user inputs for use in an URL segment.\n */\nexport function encodeUserConfig(\n  payloadSize: number,\n  headerSize: number,\n  codingRate?: CodingRate,\n  macCommands?: MacCommand[]\n) {\n  const parts: (string | number)[] = [];\n  if (payloadSize !== defaults.payloadSize || headerSize !== defaults.headerSize) {\n    parts.push(payloadSize);\n  }\n  if (headerSize !== defaults.headerSize) {\n    parts.push(headerSize);\n  }\n  if (codingRate && codingRate !== defaults.codingRate) {\n    parts.push('cr' + codingRate.replace('/', ''));\n  }\n  if (macCommands) {\n    parts.push(...macCommands.map((cmd) => cmd.name));\n  }\n  return parts.join(',');\n}\n","import React, {useEffect, useState} from 'react';\nimport Badge from 'react-bootstrap/Badge';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport {CodingRate} from '../../lora/Airtime';\nimport {MacCommand, UplinkMacCommands102} from '../../lora/MacCommands';\nimport HelpTooltip from '../help/HelpTooltip';\nimport {withFormControl} from './helpers';\nimport NumberInput from './NumberInput';\nimport {decodeUserConfig, encodeUserConfig} from './UserConfig';\n\n/**\n * The components determines its parameters given its URL fragment, and only\n * tells the parent component about the total packet size and the coding rate.\n */\ntype UserConfigProps = {\n  userConfig?: string;\n  setPacketSize: (size: number) => void;\n  setCodingRate: (cr: CodingRate) => void;\n  setUserConfig: (fragment: string) => void;\n};\n\n/**\n * Form using some controlled components to input the packet's details.\n *\n * TODO The state is maintained by the parent component.\n *\n * This reports the total LoRa packet size, the coding rate and its own\n * fragment in the URL to its parent.\n *\n * /ttn/eu868/1.0.x,4/5,15,LinkCheckReq,LinkAdrAns,DutyCycleAns,RXParamSetupAns,DevStatusAns,NewChannelAns,RXTimingSetupAns,TxParamSetupAns,DlChannelAns\n *\n *\n */\nexport default function UserInput(props: UserConfigProps) {\n  function useParam<T>(defaultValue: T) {\n    const [value, setValue] = useState(defaultValue);\n    return {value, setValue};\n  }\n\n  const params = decodeUserConfig(props.userConfig);\n  const payloadSize = useParam(params.payloadSize);\n  const headerSize = useParam(params.headerSize);\n  const codingRate = useParam(params.codingRate);\n  const macCommands = useParam(params.macCommands);\n\n  function increaseHeaderSize(size: number) {\n    headerSize.setValue((v) => v + size);\n    // Same result:\n    // headerSize.setValue(headerSize.value + size);\n  }\n\n  function addMacCommand(cmd: MacCommand) {\n    macCommands.setValue((macCommands.value || []).concat(cmd));\n    increaseHeaderSize(cmd.size + 1);\n  }\n\n  useEffect(() => {\n    props.setPacketSize(headerSize.value + payloadSize.value);\n  }, [props, headerSize.value, payloadSize.value]);\n\n  useEffect(() => {\n    props.setCodingRate(codingRate.value);\n  }, [props, codingRate.value]);\n\n  /**\n   * Tells the parent that the user's configuration has changed, to keep the\n   * URL synchronized with the current inputs.\n   *\n   * Rather than this callback, we could use a Route in the parent component\n   * and manage our own URL segment here. However, by design, when the user\n   * configuration only uses default values then that segment would not exist.\n   * And as the routing does not provide an API to only change a specific URL\n   * segment, this component would need to know about the URL segments of its\n   * parent to reliably change its own segment. (Like to detect excessive\n   * slashes and avoid endless loops.) Instead, the URL segment is passed to\n   * this component, and this component notifies the parent about changes. The\n   * parent needs to know about this segment anyhow, like when the parent\n   * component changes the region for which the user configuration should be\n   * preserved.\n   */\n  useEffect(() => {\n    props.setUserConfig(\n      encodeUserConfig(payloadSize.value, headerSize.value, codingRate.value, macCommands.value)\n    );\n  }, [props, headerSize.value, payloadSize.value, codingRate.value, macCommands.value]);\n\n  const macCommandButtons = UplinkMacCommands102.map((cmd, idx) => (\n    <div key={idx}>\n      <Badge\n        onClick={() => addMacCommand(cmd)}\n        pill\n        variant={params.macCommands && params.macCommands.includes(cmd) ? 'primary' : 'secondary'}\n      >\n        {cmd.name} {cmd.size}\n      </Badge>\n      &nbsp;\n    </div>\n  ));\n\n  return (\n    <>\n      <Form>\n        <Form.Row>\n          <Form.Group as={Col} controlId=\"formHeaderSize\">\n            <HelpTooltip\n              showIcon={true}\n              content=\"For an uplink and downlink, the overhead is at least 13 bytes: MHDR (1), DevAddr (4), FCtrl (1), FCnt (2), FPort (1) and MIC (4). Also, FOpts may include MAC commands.\"\n            >\n              <Form.Label>Overhead size</Form.Label>\n            </HelpTooltip>\n            <NumberInput {...headerSize} min={13} />\n          </Form.Group>\n\n          <Form.Group as={Col} controlId=\"formApplicationPayloadSize\">\n            <HelpTooltip\n              showIcon={true}\n              content=\"The application payload size. May be empty for a simple ACK or if the packet only includes MAC commands.\"\n            >\n              <Form.Label>Payload size</Form.Label>\n            </HelpTooltip>\n            <NumberInput {...payloadSize} />\n          </Form.Group>\n\n          {/* Only expose the coding rate input when a non-default is used in the URL. */}\n          {/* A future version may include some \"advanced settings\" option. */}\n          {codingRate.value !== '4/5' && (\n            <Form.Group as={Col} controlId=\"formCodingRate\">\n              <HelpTooltip\n                showIcon={true}\n                content=\"The coding rate (CR) used for forward error correction (FEC). Always 4/5 for LoRaWAN.\"\n              >\n                <Form.Label>Coding rate</Form.Label>\n              </HelpTooltip>\n              <Form.Control as=\"select\" {...withFormControl(codingRate)}>\n                <option value=\"4/5\">4/5</option>\n                <option value=\"4/6\">4/6</option>\n                <option value=\"4/7\">4/7</option>\n                <option value=\"4/8\">4/8</option>\n              </Form.Control>\n            </Form.Group>\n          )}\n        </Form.Row>\n\n        {/* TODO Work in progress: somehow allow for adding/removing MAC commands; for now only when already in URL. */}\n        {params.macCommands && (\n          <>\n            <Form.Row className=\"justify-content-md-center\">\n              <Col md=\"8\">\n                <Form.Label>MAC command</Form.Label>\n                <ButtonToolbar aria-label=\"MAC commands\">{macCommandButtons}</ButtonToolbar>\n              </Col>\n            </Form.Row>\n            <br />\n          </>\n        )}\n      </Form>\n    </>\n  );\n}\n","export type CodingRate = '4/5' | '4/6' | '4/7' | '4/8';\n\nexport default class Airtime {\n  /**\n   * Calculates the LoRa airtime in milliseconds.\n   *\n   * See https://lora-developers.semtech.com/library/product-documents/ for the\n   * equations in AN1200.13 \"LoRa Modem Designer’s Guide\".\n   *\n   * Spreading factor and bandwidth together define the so called data rate.\n   *\n   * @param size full packet size. For LoRaWAN this includes the LoRaWAN MAC\n   *   header (about 9 bytes when no MAC commands are included), the application\n   *   payload, and the MIC (4 bytes).\n   * @param sf spreading factor, 6..12 (6 is not used in LoRaWAN)\n   * @param bw bandwidth in kHz, typically 125, 250 or 500\n   * @param codingRate coding rate, '4/5', '4/6', '4/7' or '4/8'. For LoRaWAN\n   *   this is always '4/5'.\n   * @param lowDrOptimize low data rate optimization, 'auto', true or false.\n   *   This is usually enabled for low data rates, to avoid issues with drift\n   *   of the crystal reference oscillator due to either temperature change or\n   *   motion. When enabled, specifically for 125 kHz bandwidth and SF11 and\n   *   SF12, this adds a small overhead to increase robustness to reference\n   *   frequency variations over the timescale of the packet.\n   * @param explicitHeader if the LoRa header is present, true or false. This\n   *   is the low-level header that defines, e.g., coding rate, payload length\n   *   and the presence of a CRC checksum. In plain LoRa it can be left out if\n   *   each transmission uses the very same parameters and the receiver is\n   *   aware of those. For LoRaWAN, where at least the payload length is not\n   *   fixed, the low-level LoRa header is always enabled.\n   * @param preambleLength number of preamble symbols. For LoRaWAN this is 8.\n   */\n  static calculate(\n    size: number,\n    sf: number,\n    bw: number,\n    codingRate: CodingRate = '4/5',\n    lowDrOptimize: 'auto' | true | false = 'auto',\n    explicitHeader: boolean = true,\n    preambleLength = 8\n  ) {\n    // All times in milliseconds\n    const tSym = (Math.pow(2, sf) / (bw * 1000)) * 1000;\n    const tPreamble = (preambleLength + 4.25) * tSym;\n\n    // H = 0 when the header is enabled, H = 1 when no header is present.\n    const h = explicitHeader ? 0 : 1;\n    // DE = 1 when the low data rate optimization is enabled, DE = 0 for\n    // disabled. When 'auto' then only for SF11 and SF12, on 125kHz. Allow for\n    // programming errors that pass string values from, e.g., some form input.\n    const de =\n      (lowDrOptimize === 'auto' && +bw === 125 && +sf >= 11) || lowDrOptimize === true ? 1 : 0;\n    // CR is the coding rate from 1 to 4\n    const cr = +codingRate[2] - 4;\n    const payloadSymbNb =\n      8 +\n      Math.max(\n        Math.ceil((8 * size - 4 * sf + 28 + 16 - 20 * h) / (4 * (sf - 2 * de))) * (cr + 4),\n        0\n      );\n    const tPayload = payloadSymbNb * tSym;\n\n    return tPreamble + tPayload;\n  }\n}\n","export function fmt(n: number, digits: number) {\n  return n.toLocaleString('en-US', {minimumFractionDigits: digits, maximumFractionDigits: digits});\n}\n\nexport function fmtSeconds(seconds: number) {\n  // 1.0 is actually a plural number too\n  if (seconds >= 120.05) {\n    return `${fmt(seconds / 60, 1)} minutes`;\n  }\n  return `${fmt(seconds, 1)} seconds`;\n}\n\n/**\n * Join non-empty fragments into a sentence, adding full stops when combining\n * more than one fragment.\n */\nexport function withFullStops(...lines: (string | false | 0 | undefined)[]) {\n  return (\n    lines.reduce((acc: string, line) => {\n      if (!line) {\n        return acc;\n      }\n      return (\n        acc +\n        (acc && acc.slice(-1) !== '.' ? '. ' : acc ? ' ' : '') +\n        line +\n        (acc && line.slice(-1) !== '.' ? '.' : '')\n      );\n    }, '') || undefined\n  );\n}\n","import React from 'react';\nimport {DataRate, Region} from '../../AppConfig';\nimport HelpTooltip from '../help/HelpTooltip';\nimport {fmt, fmtSeconds, withFullStops} from './helpers';\n\ntype ResultGridProps = {\n  region: Region;\n  dr: DataRate;\n  size: number;\n  airtime: number;\n  maxPhyPayloadSize: number;\n};\n\n/**\n * A single result, showing the data rate (SF, bandwidth), time on air and\n * calculated limits.\n */\nexport function Result({region, dr, size, airtime, maxPhyPayloadSize}: ResultGridProps) {\n  // Minimum delay in seconds between two packet starts, for maximum 1% duty cycle\n  const dcDelay = airtime / 0.01 / 1000;\n\n  // Maximum messages/day for 30 seconds TTN Fair Access Policy\n  const fapMessages = 30000 / airtime;\n  const fapDelay = (24 * 3600) / fapMessages;\n\n  const maxDwellTime = region.maxDwellTime || 0;\n  const dwellTimeExceeded = maxDwellTime > 0 && airtime > maxDwellTime;\n  const sizeExceeded = dr.maxMacPayloadSize && size > maxPhyPayloadSize;\n\n  return (\n    <>\n      <HelpTooltip\n        content={withFullStops(\n          dr.notes,\n          dr.maxMacPayloadSize &&\n            (sizeExceeded\n              ? `The full payload of ${size} bytes exceeds the maximum packet size of ${maxPhyPayloadSize} bytes`\n              : `Maximum total packet size ${maxPhyPayloadSize} bytes`)\n        )}\n      >\n        <div\n          className={`Result-datarate ${\n            sizeExceeded ? 'Result-has-warning' : dr.notes ? 'Result-has-note' : ''\n          }`}\n          role=\"cell\"\n        >\n          <div className=\"Result-dr\">{dr.name}</div>\n          <div>\n            &#x200b;&#x200b;\n            <span className=\"Result-sf\">SF{dr.sf}</span>\n            &#x200b;&#x200b;\n            <span className=\"Result-unit Result-unit-bw\">\n              BW\n              <br />\n              {dr.bw}\n            </span>\n          </div>\n          {sizeExceeded && (\n            <div className={'Result-datarate-warning'}>&#x200b;&#x200b;max size exceeded</div>\n          )}\n        </div>\n      </HelpTooltip>\n\n      <HelpTooltip\n        content={\n          <>\n            On SF{dr.sf}BW{dr.bw}, a total packet size of {size} bytes{' '}\n            <a href={document.location.href}>needs {fmt(airtime, 2)} milliseconds time on air</a>.\n            {dwellTimeExceeded && (\n              <>\n                {' '}\n                This exceeds the maximum dwell time of {maxDwellTime} milliseconds for{' '}\n                {region.label}.\n              </>\n            )}\n          </>\n        }\n      >\n        <div\n          className={`Result-airtime ${dwellTimeExceeded ? 'Result-has-warning' : ''}`}\n          role=\"cell\"\n        >\n          <div>\n            {fmt(airtime, 1)}&#x200b;<span className=\"Result-unit\">ms</span>\n          </div>\n          {dwellTimeExceeded && (\n            <div className={'Result-airtime-warning'}>&#x200b;&#x200b;max dwell time exceeded</div>\n          )}\n        </div>\n      </HelpTooltip>\n\n      <HelpTooltip\n        content={\n          <>\n            If regional legal or LoRaWAN maximum duty cycles apply, then a 1% maximum duty cycle\n            needs a <em>minimum</em> of {fmt(dcDelay, 2)} seconds between <em>any</em> subsequent\n            packet starts in the same subband.\n          </>\n        }\n      >\n        <div className=\"Result-dutycycle\" role=\"cell\">\n          <div>\n            {fmt(dcDelay, 1)}\n            &#x200b;\n            <span className=\"Result-unit\">sec</span>\n            &#x200b;&#x200b;\n          </div>\n          <div>\n            {fmt(Math.floor(3600 / dcDelay), 0)}\n            &#x200b;\n            <span className=\"Result-unit\">\n              msg\n              <br />\n              /hour\n            </span>\n          </div>\n        </div>\n      </HelpTooltip>\n\n      <HelpTooltip\n        content={\n          <>\n            {/*{ Links are only added for copy/pasting rich text. On touch devices links in tooltips\n             would be clickable, but still are rendered invisibly, to not confuse the user clicking\n             the link that points back to this very location. }*/}\n            <p>\n              The <a href=\"https://www.thethingsnetwork.org/forum/t/1300\">TTN Fair Access Policy</a>{' '}\n              allows for at most 30 seconds time on air per device, per 24 hours. So, an{' '}\n              <a href={document.location.href}>\n                airtime of {fmt(airtime, 1)} milliseconds for {size} bytes on SF{dr.sf}BW{dr.bw}\n              </a>{' '}\n              imposes a limit of {fmt(fapMessages, 1)} messages per day.\n            </p>\n            {/* Add newlines between paragraphs in case we're copy/pasting plain text. */}\n            {'\\n\\n'}\n            <p>\n              When transmitting all day, <strong>on average</strong> this needs a minimum of{' '}\n              {fmtSeconds(fapDelay)} between the starts of two uplinks, or a maximum of{' '}\n              {fmt(fapMessages / 24, 1)}\n              &nbsp;messages per hour.\n            </p>\n          </>\n        }\n      >\n        <div className=\"Result-fairaccess\" role=\"cell\">\n          <div className=\"Result-fairaccess-messages\">\n            {fmt((24 * 3600) / fapMessages, 1)}\n            &#8203;\n            <span className=\"Result-unit\">\n              sec&#8203;\n              <br />\n              (avg)\n            </span>\n            &#8203;&#8203;\n          </div>\n          <div>\n            <span className=\"Result-fairaccess-messages-per-hour\">{fmt(fapMessages / 24, 1)}</span>\n            &#8203;\n            <span className=\"Result-unit Result-unit-hour\">\n              avg\n              <br />\n              /hour\n            </span>\n            &#8203;&#8203;\n          </div>\n          <div className=\"Result-fairaccess-messages-per-day\">\n            {fmt(Math.floor(fapMessages), 0)}\n            &#8203;\n            <span className=\"Result-unit\">\n              msg\n              <br />\n              /24h\n            </span>\n          </div>\n        </div>\n      </HelpTooltip>\n    </>\n  );\n}\n","import React from 'react';\nimport {Region} from '../../AppConfig';\nimport Airtime, {CodingRate} from '../../lora/Airtime';\nimport {Result} from './Result';\n\ntype ResultsProps = {\n  region: Region;\n  packetSize: number;\n  codingRate: CodingRate;\n};\n\n/**\n * Shows the results of the airtime calculations.\n */\nexport default function Results({region, packetSize, codingRate}: ResultsProps) {\n  if (!codingRate) {\n    return null;\n  }\n\n  const results = region.dataRates.map((dr, idx) => {\n    const airtime = Airtime.calculate(packetSize, dr.sf, dr.bw, codingRate);\n    // PHYPayload = MHDR[1] | MACPayload[..] | MIC[4]\n    const maxPhyPayloadSize = dr.maxMacPayloadSize + 5;\n    const tooLong =\n      (region.maxDwellTime && airtime > region.maxDwellTime) ||\n      (dr.maxMacPayloadSize && packetSize > maxPhyPayloadSize);\n    const oddEven = `Results-result-${idx % 2 ? 'odd' : 'even'}`;\n    const highlight = `Results-result-highlight-${tooLong ? 'warning' : dr.highlight || 'none'}`;\n\n    return (\n      <div key={dr.name} className={`Results-result ${oddEven} ${highlight}`} role={'row'}>\n        <Result\n          size={packetSize}\n          region={region}\n          dr={dr}\n          airtime={airtime}\n          maxPhyPayloadSize={maxPhyPayloadSize}\n        />\n      </div>\n    );\n  });\n\n  return (\n    <>\n      <div className={`Results-grid Results-grid-${results.length}`} role=\"table\">\n        <div role=\"rowgroup\">\n          <div className={`Results-legend`} role=\"row\">\n            <div role=\"columnheader\">data rate</div>\n            <div role=\"columnheader\">airtime</div>\n            <div role=\"columnheader\">1%&nbsp;max duty&nbsp;cycle</div>\n            <div role=\"columnheader\">fair access policy</div>\n          </div>\n        </div>\n        <div role=\"rowgroup\">\n          {results}\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, {useEffect, useRef, useState} from 'react';\nimport './HorizontalScroll.scss';\n\ntype HorizontalScrollProps = {\n  children: React.ReactNode;\n};\n\n/**\n * Wraps the children in a container that makes it never wrap, removes any\n * scrollbars and adds buttons for scrolling.\n */\nexport default function HorizontalScroll({children}: HorizontalScrollProps) {\n  const scrollContainer = useRef<HTMLDivElement>(null);\n  const [hasOverflowLeft, setHasOverflowLeft] = useState(false);\n  const [hasOverflowRight, setHasOverflowRight] = useState(false);\n  const [resize] = useState({width: -1, height: -1});\n\n  const scrollX = (x: number) => {\n    const scroll = scrollContainer.current;\n    if (scroll) {\n      scroll.scrollBy(x, 0);\n    }\n  };\n\n  const scrollLeft = () => {\n    scrollX(-40);\n  };\n\n  const scrollRight = () => {\n    scrollX(40);\n  };\n\n  useEffect(() => {\n    const scroll = scrollContainer.current;\n    const handleScroll = () => {\n      if (!scroll) {\n        console.log('No scroll element');\n      } else {\n        const hasOverflowLeft = scroll.scrollLeft > 0;\n        // Allow for 1 pixel of rounding errors\n        const hasOverflowRight = scroll.scrollWidth - scroll.offsetWidth > scroll.scrollLeft + 1;\n        setHasOverflowLeft(hasOverflowLeft);\n        setHasOverflowRight(hasOverflowRight);\n      }\n    };\n\n    if (scroll) {\n      // Initial configuration\n      handleScroll();\n      window.addEventListener('resize', handleScroll);\n      scroll.addEventListener('scroll', handleScroll);\n      return () => {\n        scroll.removeEventListener('scroll', handleScroll);\n        window.removeEventListener('resize', handleScroll);\n      };\n    }\n  }, [resize]);\n\n  return (\n    <div\n      className={\n        'd-flex justify-content-center align-items-center horizontal-scroll' +\n        (hasOverflowLeft ? ' horizontal-scroll--overflow-left' : '') +\n        (hasOverflowRight ? ' horizontal-scroll--overflow-right' : '')\n      }\n    >\n      <div\n        className={\n          'horizontal-scroll__button' +\n          (hasOverflowLeft ? ' horizontal-scroll__button--enabled' : '')\n        }\n        onClick={scrollLeft}\n      >\n        &lsaquo;\n      </div>\n      <div className={'horizontal-scroll__content table-responsive'} ref={scrollContainer}>\n        {children}\n      </div>\n      <div\n        className={\n          'horizontal-scroll__button' +\n          (hasOverflowRight ? ' horizontal-scroll__button--enabled' : '')\n        }\n        onClick={scrollRight}\n      >\n        &rsaquo;\n      </div>\n    </div>\n  );\n}\n","import {History, Location} from 'history';\nimport {AppConfig, Network, Region} from '../../AppConfig';\n\n/**\n * Custom URL handling:\n *\n * - Updated URL for almost each change in the user input\n * - URL does not include default values, and no trailing slash if all\n * parameters are defaults\n * - Changing the network or region only replaces part of the URL, without\n * wiping the trailing parameters\n */\n\nexport function parseUrl(\n  history: History,\n  location: Location,\n  config: AppConfig\n): {network: Network | undefined; region: Region | undefined; parameters: string | undefined} {\n  // Due to using `<Router basename={process.env.PUBLIC_URL}>`, even when deployed in a subfolder,\n  // location.pathname will only include a leading slash followed by our application's URL segments.\n  // So, no need to strip process.env.PUBLIC_URL here.\n  const [, networkName, regionName, parameters] = location.pathname.split('/');\n  const network = config.networks.find((network) => network.name === networkName);\n  const region = network ? network.regions.find((region) => region.name === regionName) : undefined;\n  return {network, region, parameters};\n}\n\nexport function setUrl(\n  history: History,\n  location: Location,\n  config: AppConfig,\n  network: Network,\n  region: Region,\n  parameters?: string\n) {\n  const current = parseUrl(history, location, config);\n  // current.parameters might be undefined as well\n  const params = parameters === undefined ? current.parameters : parameters;\n  const url = '/' + network.name + '/' + region.name + (params ? '/' + params : '');\n  if (location.pathname === url) {\n    console.log(`No URL change needed; ${url}`);\n    return;\n  }\n  // Due to using `<Router basename={process.env.PUBLIC_URL}>` this adds the process.env.PUBLIC_URL prefix\n  history.replace(url);\n}\n","import React, {useState} from 'react';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport ReactMarkdown from 'react-markdown';\nimport {RouteComponentProps} from 'react-router-dom';\nimport {AppConfig, Region} from '../../AppConfig';\nimport {CodingRate} from '../../lora/Airtime';\nimport UserInput from '../input/UserInput';\nimport Results from '../result/Results';\nimport HorizontalScroll from '../scroll/HorizontalScroll';\nimport {parseUrl, setUrl} from './Router';\n\ntype CalculatorProps = {\n  config: AppConfig;\n} & RouteComponentProps;\n\n/**\n * The user inputs and the calculated results.\n *\n * Most state is also kept in the URL, as we want that to be copy-paste ready.\n */\nexport default function Calculator(props: CalculatorProps) {\n  // The real defaults are set in the UserInput component, and posted back\n  // using callbacks\n  const [packetSize, setPacketSize] = useState<number>(null as any);\n  const [codingRate, setCodingRate] = useState<CodingRate>(null as any);\n\n  const changeUrl = setUrl.bind(null, props.history, props.location, props.config);\n  const {network, region, parameters} = parseUrl(props.history, props.location, props.config);\n\n  if (!network) {\n    const n = props.config.networks[0];\n    const r = n.regions.find((r) => r.name === n.defaultRegion) as Region;\n    changeUrl(n, r);\n    return null;\n  }\n\n  if (!region) {\n    const r = network.regions.find((r) => r.name === network.defaultRegion) as Region;\n    changeUrl(network, r);\n    return null;\n  }\n\n  const handlePacketSizeChange = (size: number) => {\n    console.log('packet size', packetSize, size);\n    setPacketSize(size);\n  };\n\n  const handleCodingRateChange = (cr: CodingRate) => {\n    console.log('coding rate', codingRate, cr);\n    setCodingRate(cr);\n  };\n\n  /**\n   * Saves the updated user configuration in the current URL.\n   */\n  const handleParametersChange = (parameters: string) => {\n    console.log('URL', parameters);\n    changeUrl(network, region, parameters);\n  };\n\n  const setRegion = (region: Region) => {\n    console.log('region', region);\n    changeUrl(network, region);\n  };\n\n  return (\n    <>\n      <Row>\n        <Col>\n          <HorizontalScroll>\n            <ButtonGroup>\n              {network.regions.map((r) => (\n                <Button\n                  variant=\"outline-primary\"\n                  size=\"sm\"\n                  active={r.name === region.name}\n                  disabled={!r.dataRates}\n                  key={r.name}\n                  onClick={() => setRegion(r)}\n                >\n                  {r.label}\n                </Button>\n              ))}\n            </ButtonGroup>\n          </HorizontalScroll>\n        </Col>\n      </Row>\n\n      <Row>\n        <hr />\n      </Row>\n\n      <Row className=\"justify-content-sm-center\">\n        <Col>\n          <h3>{region.title}</h3>\n        </Col>\n      </Row>\n\n      <Row className=\"justify-content-md-center\">\n        <Col md=\"auto\">\n          <UserInput\n            userConfig={parameters}\n            setUserConfig={handleParametersChange}\n            setPacketSize={handlePacketSizeChange}\n            setCodingRate={handleCodingRateChange}\n          />\n        </Col>\n      </Row>\n\n      <Row className=\"justify-content-sm-center\">\n        <Col>\n          <Results region={region} packetSize={packetSize} codingRate={codingRate} />\n          <hr />\n        </Col>\n      </Row>\n\n      <Row className=\"justify-content-md-center\">\n        <Col md=\"8\">{region.limitations && <ReactMarkdown source={region.limitations} />}</Col>\n      </Row>\n\n      <Row className=\"justify-content-md-center\">\n        <Col md=\"8\">{region.countries && <ReactMarkdown source={region.countries} />}</Col>\n      </Row>\n    </>\n  );\n}\n","import axios from 'axios';\nimport React, {useEffect, useState} from 'react';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport GithubCorner from 'react-github-corner';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\nimport './App.scss';\nimport {AppConfig} from './AppConfig';\nimport Calculator from './components/calculator/Calculator';\n\n/**\n * Loads the JSON configuration file and renders the application.\n */\nexport default function App() {\n  const configUrl = process.env.PUBLIC_URL + '/config.json';\n  const [progress, setProgress] = useState<string | null>('Loading configuration...');\n  const [config, setConfig] = useState({} as AppConfig);\n\n  const hasSelection = () => {\n    if (window.getSelection) {\n      const selection = window.getSelection();\n      return selection && selection.toString() !== '';\n    }\n    // Unsupported browser\n    return true;\n  };\n\n  const getTooltip = () => {\n    const tooltip = document.querySelector('[role=\"tooltip\"] .tooltip-inner');\n    if (tooltip && tooltip instanceof HTMLElement && tooltip.innerHTML) {\n      return tooltip.innerHTML;\n    }\n    return null;\n  };\n\n  const setClipboard = (e: ClipboardEvent, tooltip: Element) => {\n    if (!e.clipboardData) {\n      return;\n    }\n    if (tooltip instanceof HTMLElement && tooltip.innerHTML) {\n      console.log('text/html');\n      e.clipboardData.setData('text/html', tooltip.innerHTML);\n    }\n    if (tooltip && tooltip.textContent) {\n      e.clipboardData.setData('text/plain', tooltip.textContent);\n    }\n    e.preventDefault();\n  };\n\n  const onCopy = (e: Event) => {\n    console.log('COPY', e instanceof ClipboardEvent, e);\n    if (e instanceof ClipboardEvent && e.clipboardData) {\n      console.log('COPY');\n      const tooltip = document.querySelector('[role=\"tooltip\"] .tooltip-inner');\n      if (tooltip) {\n        setClipboard(e, tooltip);\n        return;\n      }\n\n      if (hasSelection()) {\n        return;\n      }\n\n      // const table = document.querySelector('[role=\"table\"]');\n      // if (table) {\n      //   const groups = table.querySelectorAll('[role=\"rowgroup\"]');\n      //\n      //   const header = Array.from(groups[0].querySelectorAll('[role=\"columnheader\"]')).map(\n      //     (header) => header.textContent\n      //   );\n      //\n      //   const rows = Array.from(groups[1].querySelectorAll('[role=\"row\"]')).map((row) => {\n      //     return Array.from(row.querySelectorAll('[role=\"cell\"]'))\n      //       .map((cell) => cell.textContent)\n      //       .join(' | ');\n      //   });\n      //\n      //   const md =\n      //     header.join(' | ') + '\\n' + header.map((_) => ':-:').join(' | ') + '\\n' + rows.join('\\n');\n      //   console.log(md);\n\n      const table = document.querySelector('[role=\"table\"]');\n      if (table) {\n        const groups = table.querySelectorAll('[role=\"rowgroup\"]');\n\n        const header =\n          '<thead><tr>' +\n          Array.from(groups[0].querySelectorAll('[role=\"columnheader\"]'))\n            .map((header) => `<th align=\"center\">${header.textContent}</th>`)\n            .join('') +\n          '</thead></tr>';\n\n        const rows =\n          '<tbody>' +\n          Array.from(groups[1].querySelectorAll('[role=\"row\"]'))\n            .map((row) => {\n              return (\n                '<tr>' +\n                Array.from(row.querySelectorAll('[role=\"cell\"]'))\n                  .map((cell) => `<td>${cell.textContent}</td>`)\n                  .join('') +\n                '</tr>'\n              );\n            })\n            .join('\\n') +\n          '</tbody>';\n\n        const html = ('<table>' + header + '\\n' + rows + '</table>')\n          // Using `<br>` works in, e.g., Discourse that converts HTML to\n          // Markdown. It won't look nice in, e.g., Word.\n          .replace(/\\u200B\\u200B/g, '&lt;br/>')\n          .replace(/\\u200B/g, ' ');\n\n        console.log(html);\n        e.clipboardData.setData('text/html', html);\n        e.preventDefault();\n      }\n    }\n  };\n\n  // Given the empty array for deps, this only runs when component mounts;\n  // https://reactjs.org/docs/hooks-reference.html#conditionally-firing-an-effect\n  useEffect(() => {\n    console.error('Init keydown');\n    // window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('copy', onCopy);\n\n    // cleanup this component\n    return () => {\n      console.error('Remove keydown');\n      // window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('copy', onCopy);\n    };\n  }, []);\n\n  useEffect(() => {\n    let didCancel = false;\n    const fetchConfig = async () => {\n      try {\n        // By default, axios expects JSON in UTF8, and converts that on the fly\n        const result = (await axios.get<AppConfig>(configUrl)).data;\n        if (!didCancel) {\n          setProgress(null);\n          setConfig(result);\n        }\n      } catch (error) {\n        // TODO fine for 404, but this does not catch JSON parse errors?\n        setProgress(\n          `Failed to load configuration ${process.env.PUBLIC_URL} ${configUrl}: ${error}`\n        );\n      }\n    };\n\n    // Workaround to suppress the following React warning:\n    //   Warning: useEffect function must return a cleanup function or nothing.\n    //   Promises and useEffect(async () => ...) are not supported, but you can\n    //   call an async function inside an effect.\n    // This still makes the compiler warn about ignoring the returned Promise.\n    fetchConfig();\n    return () => {\n      didCancel = true;\n    };\n  }, [configUrl]);\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <Container fluid className=\"App\">\n        <Row>\n          <Col>\n            <h1>Airtime calculator for LoRaWAN</h1>\n            {/*TODO check if IE does not show text null */}\n            <p>{progress}</p>\n          </Col>\n        </Row>\n        {config.networks && <Route render={(props) => <Calculator {...props} config={config} />} />}\n        <GithubCorner href=\"https://github.com/avbentem/airtime-calculator\" />\n      </Container>\n    </Router>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as {env: {[key: string]: string}}).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see\n      // https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still\n        // exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}