{"version":3,"sources":["lora/MacCommands.ts","components/help/HelpTooltip.tsx","components/input/helpers.tsx","components/input/NumberInput.tsx","components/input/UserConfig.ts","components/input/UserInput.tsx","lora/Airtime.ts","components/result/Result.tsx","components/result/Results.tsx","components/scroll/HorizontalScroll.tsx","components/calculator/Router.ts","components/calculator/Calculator.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["UplinkMacCommands102","name","size","DownlinkMacCommands102","HelpTooltip","text","placement","OverlayTrigger","overlay","Tooltip","id","className","withFormControl","state","value","onChange","event","target","currentTarget","setValue","NumberInput","min","useEffect","InputGroup","Prepend","Button","onClick","variant","aria-label","FormControl","type","placeholder","Append","v","defaults","payloadSize","headerSize","codingRate","UserInput","props","useParam","defaultValue","useState","params","result","values","split","map","trim","test","console","warn","substr","join","lowerCase","toLowerCase","mac","concat","find","cmd","macCommands","decodeUserConfig","userConfig","addMacCommand","setPacketSize","setCodingRate","setUserConfig","parts","push","replace","encodeUserConfig","macCommandButtons","idx","key","Badge","pill","includes","Form","Row","Group","as","Col","controlId","Label","Control","md","ButtonToolbar","Airtime","sf","bw","lowDrOptimize","explicitHeader","preambleLength","tSym","Math","pow","tPreamble","h","de","cr","payloadSymbNb","max","ceil","tPayload","fmt","n","digits","toLocaleString","minimumFractionDigits","maximumFractionDigits","Result","dr","airtime","dcDelay","fapMessages","fapDelay","notes","floor","Results","region","packetSize","results","dataRates","calculate","length","HorizontalScroll","children","scrollContainer","useRef","hasOverflowLeft","setHasOverflowLeft","hasOverflowRight","setHasOverflowRight","width","height","resize","scrollX","x","scroll","current","scrollBy","handleScroll","scrollLeft","scrollWidth","offsetWidth","log","window","addEventListener","removeEventListener","ref","parseUrl","history","location","config","pathname","networkName","regionName","parameters","network","networks","regions","undefined","setUrl","url","Calculator","changeUrl","bind","r","defaultRegion","ButtonGroup","active","disabled","setRegion","label","title","description","source","App","configUrl","process","progress","setProgress","setConfig","didCancel","a","axios","get","data","fetchConfig","basename","Container","fluid","render","href","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.94ffa7ef.chunk.js","sourcesContent":["export type MacCommand = {\n  name: string;\n  /**\n   * The command's payload size, excluding the byte for the MAC command itself.\n   */\n  size: number;\n};\n\n/**\n * The LoRaWAN 1.0.2 MAC commands and their payload sizes, if any (excluding\n * the one byte for the MAC command itself). Some commands can be present in\n * the very same LoRaWAN packet multiple times.\n */\nexport const UplinkMacCommands102: MacCommand[] = [\n  {name: 'LinkCheckReq', size: 0},\n  {name: 'LinkAdrAns', size: 1},\n  {name: 'DutyCycleAns', size: 0},\n  {name: 'RXParamSetupAns', size: 1},\n  {name: 'DevStatusAns', size: 2},\n  {name: 'NewChannelAns', size: 1},\n  {name: 'DlChannelAns', size: 1},\n  {name: 'RXTimingSetupAns', size: 0},\n  {name: 'TxParamSetupAns', size: 0},\n];\n\nexport const DownlinkMacCommands102: MacCommand[] = [\n  {name: 'LinkCheckAns', size: 2},\n  {name: 'LinkAdrReq', size: 4},\n  {name: 'DutyCycleReq', size: 1},\n  {name: 'RXParamSetupReq', size: 4},\n  {name: 'DevStatusReq', size: 0},\n  {name: 'NewChannelReq', size: 5},\n  {name: 'DlChannelReq', size: 4},\n  {name: 'RXTimingSetupReq', size: 1},\n  {name: 'TxParamSetupReq', size: 1},\n];\n","import React from 'react';\nimport {Placement} from 'react-bootstrap/Overlay';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\n\ntype HelpTooltipProps = {\n  text?: string;\n  placement?: Placement;\n};\n\n/**\n * Shows an information icon for a tooltip, if the optional help text is set.\n */\nexport default function HelpTooltip({text, placement = 'bottom'}: HelpTooltipProps) {\n  if (!text) {\n    return null;\n  }\n\n  return (\n    <sup>\n      <OverlayTrigger placement={placement} overlay={<Tooltip id=\"todo\">{text}</Tooltip>}>\n        <small className=\"text-muted\">&#9432;</small>\n      </OverlayTrigger>\n    </sup>\n  );\n}\n","import React, {Dispatch, SetStateAction} from 'react';\n\n/**\n * Returns an object that can be spread for use in Bootstrap forms, like\n * `<FormControl {...withFormControl(state)}/>`.\n */\nexport function withFormControl<T>(state: {value: T; setValue: Dispatch<SetStateAction<T>>}) {\n  // See https://github.com/react-bootstrap/react-bootstrap/issues/2781\n  function onChange(event: React.FormEvent<any>) {\n    // function onChange(event: React.FormEventHandler) {\n    const target = event.currentTarget;\n    state.setValue(typeof state.value === 'number' ? (+target.value as any) : target.value);\n  }\n\n  // FormControl expects a string for value\n  return {value: '' + state.value, onChange};\n}\n","import React, {Dispatch, SetStateAction, useEffect} from 'react';\nimport Button from 'react-bootstrap/Button';\nimport FormControl from 'react-bootstrap/FormControl';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport {withFormControl} from './helpers';\n\ntype NumberInputProps = {\n  min?: number;\n  value: number;\n  setValue: Dispatch<SetStateAction<number>>;\n};\n\n/**\n * A Bootstrap form input field with decrement and increment buttons.\n */\nexport default function NumberInput({min = 0, value, setValue}: NumberInputProps) {\n  function dec() {\n    if (value > min) {\n      setValue(value - 1);\n    }\n  }\n\n  function inc() {\n    setValue((v) => v + 1);\n  }\n\n  useEffect(() => {\n    setValue(value);\n  }, [value, setValue]);\n\n  return (\n    <InputGroup className=\"mb-3\">\n      <InputGroup.Prepend>\n        <Button onClick={dec} variant=\"outline-secondary\" aria-label=\"Decrease\">\n          -\n        </Button>\n      </InputGroup.Prepend>\n      <FormControl\n        {...withFormControl({value, setValue})}\n        type=\"number\"\n        min={min}\n        placeholder=\"Enter number\"\n      />\n      <InputGroup.Append>\n        <Button onClick={inc} variant=\"outline-secondary\" aria-label=\"Increase\">\n          +\n        </Button>\n      </InputGroup.Append>\n    </InputGroup>\n  );\n}\n","import {CodingRate} from '../../lora/Airtime';\nimport {DownlinkMacCommands102, MacCommand, UplinkMacCommands102} from '../../lora/MacCommands';\n\ntype UserConfig = {\n  macCommands?: MacCommand[];\n} & typeof defaults;\n\nexport const defaults = {\n  payloadSize: 6,\n  headerSize: 13,\n  codingRate: '4/5' as CodingRate,\n};\n\n/**\n * Takes the first integer argument to be the application payload size, the\n * second as the LoRaWAN header size, a single string starting with \"cr\" as the\n * coding rate, and all other values as possible MAC commands.\n */\nexport function decodeUserConfig(params: string = ''): UserConfig {\n  const result: UserConfig = {} as any;\n  const values = params.split(',').map((v) => v.trim());\n  for (let value of values) {\n    if (value === '') {\n      continue;\n    }\n\n    if (/^\\d+$/.test(value)) {\n      // The first integer denotes the payload size, the second the header size\n      if (!result.payloadSize) {\n        result.payloadSize = +value;\n      } else if (!result.headerSize) {\n        result.headerSize = +value;\n      } else {\n        console.warn(\n          `Ignored numeric value ${value}; already parsed both payloadSize and headerSize`\n        );\n      }\n      continue;\n    }\n\n    if (/^cr4[5678]$/i.test(value)) {\n      if (!result.codingRate) {\n        result.codingRate = value.substr(2).split('').join('/') as CodingRate;\n      } else {\n        console.warn(`Ignored string value ${value}; already parsed codingRate`);\n      }\n      continue;\n    }\n\n    // Case-insensitive search in both the uplink and downlink MAC commands\n    const lowerCase = value.toLowerCase();\n    const mac = UplinkMacCommands102.concat(DownlinkMacCommands102).find(\n      (cmd) => cmd.name.toLowerCase() === lowerCase\n    );\n    if (mac) {\n      result.macCommands = (result.macCommands || []).concat(mac);\n    } else {\n      console.warn(`Ignored string value ${value}; no matching MAC command found`);\n    }\n  }\n\n  return {...defaults, ...result};\n}\n\n/**\n * Encodes the user inputs for use in an URL segment.\n */\nexport function encodeUserConfig(\n  payloadSize: number,\n  headerSize: number,\n  codingRate?: CodingRate,\n  macCommands?: MacCommand[]\n) {\n  const parts: (string | number)[] = [];\n  if (payloadSize !== defaults.payloadSize || headerSize !== defaults.headerSize) {\n    parts.push(payloadSize);\n  }\n  if (headerSize !== defaults.headerSize) {\n    parts.push(headerSize);\n  }\n  if (codingRate && codingRate !== defaults.codingRate) {\n    parts.push('cr' + codingRate.replace('/', ''));\n  }\n  if (macCommands) {\n    parts.push(...macCommands.map((cmd) => cmd.name));\n  }\n  return parts.join(',');\n}\n","import React, {useEffect, useState} from 'react';\nimport Badge from 'react-bootstrap/Badge';\nimport ButtonToolbar from 'react-bootstrap/ButtonToolbar';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport {CodingRate} from '../../lora/Airtime';\nimport {MacCommand, UplinkMacCommands102} from '../../lora/MacCommands';\nimport HelpTooltip from '../help/HelpTooltip';\nimport {withFormControl} from './helpers';\nimport NumberInput from './NumberInput';\nimport {decodeUserConfig, encodeUserConfig} from './UserConfig';\n\n/**\n * The components determines its parameters given its URL fragment, and only\n * tells the parent component about the total packet size and the coding rate.\n */\ntype UserConfigProps = {\n  userConfig?: string;\n  setPacketSize: (size: number) => void;\n  setCodingRate: (cr: CodingRate) => void;\n  setUserConfig: (fragment: string) => void;\n};\n\n/**\n * Form using some controlled components to input the packet's details.\n *\n * TODO The state is maintained by the parent component.\n *\n * This reports the total LoRa packet size, the coding rate and its own\n * fragment in the URL to its parent.\n *\n * /ttn/eu868/1.0.x,4/5,15,LinkCheckReq,LinkAdrAns,DutyCycleAns,RXParamSetupAns,DevStatusAns,NewChannelAns,RXTimingSetupAns,TxParamSetupAns,DlChannelAns\n *\n *\n */\nexport default function UserInput(props: UserConfigProps) {\n  function useParam<T>(defaultValue: T) {\n    const [value, setValue] = useState(defaultValue);\n    return {value, setValue};\n  }\n\n  const params = decodeUserConfig(props.userConfig);\n  const payloadSize = useParam(params.payloadSize);\n  const headerSize = useParam(params.headerSize);\n  const codingRate = useParam(params.codingRate);\n  const macCommands = useParam(params.macCommands);\n\n  function increaseHeaderSize(size: number) {\n    headerSize.setValue((v) => v + size);\n    // Same result:\n    // headerSize.setValue(headerSize.value + size);\n  }\n\n  function addMacCommand(cmd: MacCommand) {\n    macCommands.setValue((macCommands.value || []).concat(cmd));\n    increaseHeaderSize(cmd.size + 1);\n  }\n\n  useEffect(() => {\n    props.setPacketSize(headerSize.value + payloadSize.value);\n  }, [props, headerSize.value, payloadSize.value]);\n\n  useEffect(() => {\n    props.setCodingRate(codingRate.value);\n  }, [props, codingRate.value]);\n\n  /**\n   * Tells the parent that the user's configuration has changed, to keep the\n   * URL synchronized with the current inputs.\n   *\n   * Rather than this callback, we could use a Route in the parent component\n   * and manage our own URL segment here. However, by design, when the user\n   * configuration only uses default values then that segment would not exist.\n   * And as the routing does not provide an API to only change a specific URL\n   * segment, this component would need to know about the URL segments of its\n   * parent to reliably change its own segment. (Like to detect excessive\n   * slashes and avoid endless loops.) Instead, the URL segment is passed to\n   * this component, and this component notifies the parent about changes. The\n   * parent needs to know about this segment anyhow, like when the parent\n   * component changes the region for which the user configuration should be\n   * preserved.\n   */\n  useEffect(() => {\n    props.setUserConfig(\n      encodeUserConfig(payloadSize.value, headerSize.value, codingRate.value, macCommands.value)\n    );\n  }, [props, headerSize.value, payloadSize.value, codingRate.value, macCommands.value]);\n\n  const macCommandButtons = UplinkMacCommands102.map((cmd, idx) => (\n    <div key={idx}>\n      <Badge\n        onClick={() => addMacCommand(cmd)}\n        pill\n        variant={params.macCommands && params.macCommands.includes(cmd) ? 'primary' : 'secondary'}\n      >\n        {cmd.name} {cmd.size}\n      </Badge>\n      &nbsp;\n    </div>\n  ));\n\n  return (\n    <>\n      <Form>\n        <Form.Row>\n          <Form.Group as={Col} controlId=\"formHeaderSize\">\n            <Form.Label>\n              Header size\n              {/*TODO For proper accessibility this should be outside the <label>*/}\n              <HelpTooltip text=\"For a LoRaWAN 1.0.x uplink and downlink, the header is at least 13 bytes: Type (1), DevAddr (4), FCtrl (1), FCnt (2), FPort (1) and MIC (4).\" />\n            </Form.Label>\n            <NumberInput {...headerSize} min={13} />\n          </Form.Group>\n\n          <Form.Group as={Col} controlId=\"formApplicationPayloadSize\">\n            <Form.Label>\n              Payload size\n              <HelpTooltip text=\"The application payload size. Might be empty for a simple ACK or if the packet only includes MAC commands.\" />\n            </Form.Label>\n            <NumberInput {...payloadSize} />\n          </Form.Group>\n\n          <Form.Group as={Col} controlId=\"formCodingRate\">\n            <Form.Label>\n              Coding rate\n              <HelpTooltip text=\"The coding rate (CR) used for forward error correction (FEC).\" />\n            </Form.Label>\n            <Form.Control\n              as=\"select\"\n              {...withFormControl(codingRate)}\n              className=\"xxtext-primary xxborder-primary\"\n            >\n              <option value=\"4/5\">4/5</option>\n              <option value=\"4/6\">4/6</option>\n              <option value=\"4/7\">4/7</option>\n              <option value=\"4/8\">4/8</option>\n            </Form.Control>\n          </Form.Group>\n        </Form.Row>\n\n        {/* TODO Work in progress: somehow allow for adding/removing MAC commands; for now only when already in URL. */}\n        {params.macCommands && (\n          <>\n            <Form.Row className=\"justify-content-md-center\">\n              <Col md=\"8\">\n                <Form.Label>MAC command</Form.Label>\n                <ButtonToolbar aria-label=\"MAC commands\">{macCommandButtons}</ButtonToolbar>\n              </Col>\n            </Form.Row>\n            <br />\n          </>\n        )}\n      </Form>\n    </>\n  );\n}\n","export type CodingRate = '4/5' | '4/6' | '4/7' | '4/8';\n\nexport default class Airtime {\n  /**\n   * Calculates the LoRa airtime in milliseconds.\n   *\n   * See https://lora-developers.semtech.com/library/product-documents/ for the\n   * equations in AN1200.13 \"LoRa Modem Designer’s Guide\".\n   *\n   * Spreading factor and bandwidth together define the so called data rate.\n   *\n   * @param size full packet size. For LoRaWAN this includes the LoRaWAN MAC\n   *   header (about 9 bytes when no MAC commands are included), the application\n   *   payload, and the MIC (4 bytes).\n   * @param sf spreading factor, 6..12 (6 is not used in LoRaWAN)\n   * @param bw bandwidth in kHz, typically 125, sometimes 250 or 500\n   * @param codingRate coding rate, '4/5', '4/6', '4/7' or '4/8'\n   * @param lowDrOptimize low data rate optimization, 'auto', true or false.\n   *   This is usually enabled for low data rates, to avoid issues with drift\n   *   of the crystal reference oscillator due to either temperature change or\n   *   motion. When enabled, specifically for 125 kHz bandwidth and SF11 and\n   *   SF12, this adds a small overhead to increase robustness to reference\n   *   frequency variations over the timescale of the packet.\n   * @param explicitHeader if the LoRa header is present, true or false. This\n   *   is the low-level header that defines, e.g., coding rate, payload length\n   *   and the presence of a CRC checksum. In plain LoRa it can be left out if\n   *   each transmission uses the very same parameters and the receiver is\n   *   aware of those. For LoRaWAN, where at least the payload length is not\n   *   fixed, the low-level LoRa header is always enabled.\n   * @param preambleLength number of preamble symbols. For LoRaWAN this is 8.\n   */\n  static calculate(\n    size: number,\n    sf: number,\n    bw: any = 125,\n    codingRate: CodingRate = '4/5',\n    lowDrOptimize: 'auto' | true | false = 'auto',\n    explicitHeader: boolean = true,\n    preambleLength = 8\n  ) {\n    // All times in milliseconds\n    const tSym = (Math.pow(2, sf) / (bw * 1000)) * 1000;\n    const tPreamble = (preambleLength + 4.25) * tSym;\n\n    // H = 0 when the header is enabled, H = 1 when no header is present.\n    const h = explicitHeader ? 0 : 1;\n    // DE = 1 when the low data rate optimization is enabled, DE = 0 for\n    // disabled. When 'auto' then only for SF11 and SF12, on 125kHz. Allow for\n    // programming errors that pass string values from, e.g., some form input.\n    const de =\n      (lowDrOptimize === 'auto' && +bw === 125 && +sf >= 11) || lowDrOptimize === true ? 1 : 0;\n    // CR is the coding rate from 1 to 4\n    const cr = +codingRate[2] - 4;\n    const payloadSymbNb =\n      8 +\n      Math.max(\n        Math.ceil((8 * size - 4 * sf + 28 + 16 - 20 * h) / (4 * (sf - 2 * de))) * (cr + 4),\n        0\n      );\n    const tPayload = payloadSymbNb * tSym;\n\n    return tPreamble + tPayload;\n  }\n}\n","import React from 'react';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport {DataRate} from '../../AppConfig';\nimport HelpTooltip from '../help/HelpTooltip';\n\ntype ResultGridProps = {\n  dr: DataRate;\n  airtime: number;\n};\n\nfunction fmt(n: number, digits: number) {\n  return n.toLocaleString('en-US', {minimumFractionDigits: digits, maximumFractionDigits: digits});\n}\n\n/**\n * A single result, showing the data rate (SF, bandwidth), time on air and\n * calculated limits.\n */\nexport function Result({dr, airtime}: ResultGridProps) {\n  // Minimum delay in seconds between two packet starts, for maximum 1% duty cycle\n  const dcDelay = airtime / 0.01 / 1000;\n\n  // Maximum messages/day for 30 seconds TTN Fair Access Policy\n  const fapMessages = 30000 / airtime;\n  const fapDelay = (24 * 3600) / fapMessages;\n\n  return (\n    <>\n      <div className=\"Result-datarate\">\n        <span className=\"Result-dr\">\n          {dr.name}\n          <HelpTooltip text={dr.notes} placement=\"top\" />\n        </span>\n        <span>\n          <span className=\"Result-sf\">SF{dr.sf}</span>\n          <span className=\"Result-unit Result-unit-bw\">\n            BW\n            <br />\n            {dr.bw}\n          </span>\n        </span>\n      </div>\n      <div className=\"Result-airtime\">\n        <OverlayTrigger\n          placement={`top`}\n          overlay={\n            <Tooltip id=\"Result-dutycycle-help\">{fmt(airtime, 3)} milliseconds time on air</Tooltip>\n          }\n        >\n          <div>\n            <span>\n              {fmt(airtime, 1)}\n              <span className=\"Result-unit\">ms</span>\n            </span>\n          </div>\n        </OverlayTrigger>\n      </div>\n      <div className=\"Result-dutycycle\">\n        <OverlayTrigger\n          placement={`top`}\n          overlay={\n            <Tooltip id=\"Result-dutycycle-help\">\n              If regional legal or LoRaWAN maximum duty cycles apply, then a 1% maximum duty cycle\n              needs a <em>minimum</em> of {fmt(dcDelay, 3)} seconds between <em>any</em> subsequent\n              packet starts in the same subband.\n            </Tooltip>\n          }\n        >\n          <div>\n            <div>\n              {fmt(dcDelay, 1)}\n              <span className=\"Result-unit\">sec</span>\n            </div>\n            <div>\n              {fmt(Math.floor(3600 / dcDelay), 0)}\n              <span className=\"Result-unit\">\n                msg\n                <br />\n                /hour\n              </span>\n            </div>\n          </div>\n        </OverlayTrigger>\n      </div>\n      <div className=\"Result-fairaccess\">\n        <OverlayTrigger\n          placement={`top`}\n          overlay={\n            <Tooltip id=\"Result-dutycycle-help\">\n              <p>\n                The TTN Fair Access Policy allows for at most 30 seconds time on air per device, per\n                24 hours. An airtime of {fmt(airtime, 3)}&nbsp;ms thus yields a maximum of{' '}\n                {fmt(fapMessages, 1)} messages.\n              </p>\n              <p>\n                When transmitting all day, this translates to, <em>on average</em>, a minimum of{' '}\n                {fmt(fapDelay, 1)} seconds between the starts of two uplinks, or a maximum of{' '}\n                {fmt(fapMessages / 24, 1)}&nbsp;messages per hour.\n              </p>\n            </Tooltip>\n          }\n        >\n          <div>\n            <div className=\"Result-fairaccess-messages\">\n              {fmt((24 * 3600) / fapMessages, 1)}\n              <span className=\"Result-unit\">\n                sec\n                <br />\n                (avg)\n              </span>\n            </div>\n            <div className=\"Result-fairaccess-messages-per-day\">\n              {fmt(Math.floor(fapMessages), 0)}\n              <span className=\"Result-unit\">\n                msg\n                <br />\n                /24h\n              </span>\n            </div>\n            <div className=\"Result-fairaccess-messages-per-hour\">\n              {fmt(fapMessages / 24, 1)}\n              <span className=\"Result-unit\">\n                avg\n                <br />\n                /hour\n              </span>\n            </div>\n          </div>\n        </OverlayTrigger>\n      </div>\n    </>\n  );\n}\n","import React from 'react';\nimport {Region} from '../../AppConfig';\nimport Airtime, {CodingRate} from '../../lora/Airtime';\nimport {Result} from './Result';\n\ntype ResultsProps = {\n  region: Region;\n  packetSize: number;\n  codingRate: CodingRate;\n};\n\n/**\n * Shows the results of the airtime calculations.\n */\nexport default function Results({region, packetSize, codingRate}: ResultsProps) {\n  if (!codingRate) {\n    return null;\n  }\n\n  const results = region.dataRates.map((dr, idx) => {\n    const airtime = Airtime.calculate(packetSize, dr.sf, dr.bw, codingRate);\n    return (\n      <div key={dr.name} className={`Results-result Results-result-${idx % 2 ? 'odd' : 'even'}`}>\n        <Result dr={dr} airtime={airtime} />\n      </div>\n    );\n  });\n\n  return (\n    <>\n      <div className={`Results-grid Results-grid-${results.length}`}>\n        <div className=\"Results-legend\">\n          <div>data rate</div>\n          <div>airtime</div>\n          <div>1%&nbsp;max duty&nbsp;cycle</div>\n          <div>fair access policy</div>\n        </div>\n        {results}\n      </div>\n    </>\n  );\n}\n","import React, {useEffect, useRef, useState} from 'react';\nimport './HorizontalScroll.scss';\n\ntype HorizontalScrollProps = {\n  children: React.ReactNode;\n};\n\n/**\n * Wraps the children in a container that makes it never wrap, removes any\n * scrollbars and adds buttons for scrolling.\n */\nexport default function HorizontalScroll({children}: HorizontalScrollProps) {\n  const scrollContainer = useRef<HTMLDivElement>(null);\n  const [hasOverflowLeft, setHasOverflowLeft] = useState(false);\n  const [hasOverflowRight, setHasOverflowRight] = useState(false);\n  const [resize] = useState({width: -1, height: -1});\n\n  const scrollX = (x: number) => {\n    const scroll = scrollContainer.current;\n    if (scroll) {\n      scroll.scrollBy(x, 0);\n    }\n  };\n\n  const scrollLeft = () => {\n    scrollX(-40);\n  };\n\n  const scrollRight = () => {\n    scrollX(40);\n  };\n\n  useEffect(() => {\n    const scroll = scrollContainer.current;\n    const handleScroll = () => {\n      if (!scroll) {\n        console.log('No scroll element');\n      } else {\n        const hasOverflowLeft = scroll.scrollLeft > 0;\n        // Allow for 1 pixel of rounding errors\n        const hasOverflowRight = scroll.scrollWidth - scroll.offsetWidth > scroll.scrollLeft + 1;\n        setHasOverflowLeft(hasOverflowLeft);\n        setHasOverflowRight(hasOverflowRight);\n      }\n    };\n\n    if (scroll) {\n      // Initial configuration\n      handleScroll();\n      window.addEventListener('resize', handleScroll);\n      scroll.addEventListener('scroll', handleScroll);\n      return () => {\n        scroll.removeEventListener('scroll', handleScroll);\n        window.removeEventListener('resize', handleScroll);\n      };\n    }\n  }, [resize]);\n\n  return (\n    <div\n      className={\n        'd-flex justify-content-center align-items-center horizontal-scroll' +\n        (hasOverflowLeft ? ' horizontal-scroll--overflow-left' : '') +\n        (hasOverflowRight ? ' horizontal-scroll--overflow-right' : '')\n      }\n    >\n      <div\n        className={\n          'horizontal-scroll__button' +\n          (hasOverflowLeft ? ' horizontal-scroll__button--enabled' : '')\n        }\n        onClick={scrollLeft}\n      >\n        &lsaquo;\n      </div>\n      <div className={'horizontal-scroll__content table-responsive'} ref={scrollContainer}>\n        {children}\n      </div>\n      <div\n        className={\n          'horizontal-scroll__button' +\n          (hasOverflowRight ? ' horizontal-scroll__button--enabled' : '')\n        }\n        onClick={scrollRight}\n      >\n        &rsaquo;\n      </div>\n    </div>\n  );\n}\n","import {History, Location} from 'history';\nimport {AppConfig, Network, Region} from '../../AppConfig';\n\n/**\n * Custom URL handling:\n *\n * - Updated URL for almost each change in the user input\n * - URL does not include default values, and no trailing slash if all\n * parameters are defaults\n * - Changing the network or region only replaces part of the URL, without\n * wiping the trailing parameters\n */\n\nexport function parseUrl(\n  history: History,\n  location: Location,\n  config: AppConfig\n): {network: Network | undefined; region: Region | undefined; parameters: string | undefined} {\n  // Due to using `<Router basename={process.env.PUBLIC_URL}>`, even when deployed in a subfolder,\n  // location.pathname will only include a leading slash followed by our application's URL segments.\n  // So, no need to strip process.env.PUBLIC_URL here.\n  const [, networkName, regionName, parameters] = location.pathname.split('/');\n  const network = config.networks.find((network) => network.name === networkName);\n  const region = network ? network.regions.find((region) => region.name === regionName) : undefined;\n  return {network, region, parameters};\n}\n\nexport function setUrl(\n  history: History,\n  location: Location,\n  config: AppConfig,\n  network: Network,\n  region: Region,\n  parameters?: string\n) {\n  const current = parseUrl(history, location, config);\n  // current.parameters might be undefined as well\n  const params = parameters === undefined ? current.parameters : parameters;\n  const url = '/' + network.name + '/' + region.name + (params ? '/' + params : '');\n  if (location.pathname === url) {\n    console.log(`No URL change needed; ${url}`);\n    return;\n  }\n  // Due to using `<Router basename={process.env.PUBLIC_URL}>` this adds the process.env.PUBLIC_URL prefix\n  history.replace(url);\n}\n","import React, {useState} from 'react';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport ReactMarkdown from 'react-markdown';\nimport {RouteComponentProps} from 'react-router-dom';\nimport {AppConfig, Region} from '../../AppConfig';\nimport {CodingRate} from '../../lora/Airtime';\nimport UserInput from '../input/UserInput';\nimport Results from '../result/Results';\nimport HorizontalScroll from '../scroll/HorizontalScroll';\nimport {parseUrl, setUrl} from './Router';\n\ntype CalculatorProps = {\n  config: AppConfig;\n} & RouteComponentProps;\n\n/**\n * The user inputs and the calculated results.\n *\n * Most state is also kept in the URL, as we want that to be copy-paste ready.\n */\nexport default function Calculator(props: CalculatorProps) {\n  // The real defaults are set in the UserInput component, and posted back\n  // using callbacks\n  const [packetSize, setPacketSize] = useState<number>(null as any);\n  const [codingRate, setCodingRate] = useState<CodingRate>(null as any);\n\n  const changeUrl = setUrl.bind(null, props.history, props.location, props.config);\n  const {network, region, parameters} = parseUrl(props.history, props.location, props.config);\n\n  if (!network) {\n    const n = props.config.networks[0];\n    const r = n.regions.find((r) => r.name === n.defaultRegion) as Region;\n    changeUrl(n, r);\n    return null;\n  }\n\n  if (!region) {\n    const r = network.regions.find((r) => r.name === network.defaultRegion) as Region;\n    changeUrl(network, r);\n    return null;\n  }\n\n  const handlePacketSizeChange = (size: number) => {\n    console.log('packet size', packetSize, size);\n    setPacketSize(size);\n  };\n\n  const handleCodingRateChange = (cr: CodingRate) => {\n    console.log('coding rate', codingRate, cr);\n    setCodingRate(cr);\n  };\n\n  /**\n   * Saves the updated user configuration in the current URL.\n   */\n  const handleParametersChange = (parameters: string) => {\n    console.log('URL', parameters);\n    changeUrl(network, region, parameters);\n  };\n\n  const setRegion = (region: Region) => {\n    console.log('region', region);\n    changeUrl(network, region);\n  };\n\n  return (\n    <>\n      <Row>\n        <Col>\n          <HorizontalScroll>\n            <ButtonGroup>\n              {network.regions.map((r) => (\n                <Button\n                  variant=\"outline-primary\"\n                  size=\"sm\"\n                  active={r.name === region.name}\n                  disabled={!r.dataRates}\n                  key={r.name}\n                  onClick={() => setRegion(r)}\n                >\n                  {r.label}\n                </Button>\n              ))}\n            </ButtonGroup>\n          </HorizontalScroll>\n        </Col>\n      </Row>\n\n      <Row>\n        <hr />\n      </Row>\n\n      <Row className=\"justify-content-md-center\">\n        <Col md=\"auto\">\n          <UserInput\n            userConfig={parameters}\n            setUserConfig={handleParametersChange}\n            setPacketSize={handlePacketSizeChange}\n            setCodingRate={handleCodingRateChange}\n          />\n        </Col>\n      </Row>\n\n      <Row className=\"justify-content-md-center\">\n        <Col md=\"8\">\n          <h2>\n            {network.title} {region.label}\n          </h2>\n        </Col>\n      </Row>\n\n      <Row className=\"justify-content-sm-center\">\n        <Col>\n          <hr />\n          <Results region={region} packetSize={packetSize} codingRate={codingRate} />\n          <hr />\n        </Col>\n      </Row>\n\n      <Row className=\"justify-content-md-center\">\n        <Col md=\"8\">{region.description && <ReactMarkdown source={region.description} />}</Col>\n      </Row>\n    </>\n  );\n}\n","import axios from 'axios';\nimport React, {useEffect, useState} from 'react';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport GithubCorner from 'react-github-corner';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\nimport './App.scss';\nimport {AppConfig} from './AppConfig';\nimport Calculator from './components/calculator/Calculator';\n\n/**\n * Loads the JSON configuration file and renders the application.\n */\nexport default function App() {\n  const configUrl = process.env.PUBLIC_URL + '/config.json';\n  const [progress, setProgress] = useState<string | null>('Loading configuration...');\n  const [config, setConfig] = useState({} as AppConfig);\n\n  // Given the empty array for deps, this only runs when component mounts;\n  // https://reactjs.org/docs/hooks-reference.html#conditionally-firing-an-effect\n  useEffect(() => {\n    let didCancel = false;\n    const fetchConfig = async () => {\n      try {\n        // By default, axios expects JSON in UTF8, and converts that on the fly\n        const result = (await axios.get<AppConfig>(configUrl)).data;\n        if (!didCancel) {\n          setProgress(null);\n          setConfig(result);\n        }\n      } catch (error) {\n        // TODO fine for 404, but this does not catch JSON parse errors?\n        setProgress(\n          `Failed to load configuration ${process.env.PUBLIC_URL} ${configUrl}: ${error}`\n        );\n      }\n    };\n\n    // Workaround to suppress the following React warning:\n    //   Warning: useEffect function must return a cleanup function or nothing.\n    //   Promises and useEffect(async () => ...) are not supported, but you can\n    //   call an async function inside an effect.\n    // This still makes the compiler warn about ignoring the returned Promise.\n    fetchConfig();\n    return () => {\n      didCancel = true;\n    };\n  }, [configUrl]);\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <Container fluid className=\"App\">\n        <Row>\n          <Col>\n            <h1>Airtime calculator for LoRaWAN</h1>\n            {/*TODO check if IE does not show text null */}\n            <p>{progress}</p>\n          </Col>\n        </Row>\n        {config.networks && <Route render={(props) => <Calculator {...props} config={config} />} />}\n        <GithubCorner href=\"https://github.com/avbentem/airtime-calculator\" />\n      </Container>\n    </Router>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as {env: {[key: string]: string}}).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see\n      // https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still\n        // exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}