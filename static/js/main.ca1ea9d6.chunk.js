(this["webpackJsonpairtime-calculator"]=this["webpackJsonpairtime-calculator"]||[]).push([[0],{110:function(e,t,a){},194:function(e,t,a){},196:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),o=a(18),c=a.n(o),i=a(50),s=a.n(i),u=a(71),m=a(6),d=a(72),f=a.n(d),p=a(10),h=a(84),g=a(15),E=a(73),v=a.n(E),b=a(82),y=a(7),w=(a(110),a(17)),x=a(27),R=a(51),z=a.n(R),S=a(77),O=a(78),j=a(11),C=a(21);function k(){var e=Object(r.useState)(),t=Object(m.a)(e,2),a=t[0],o=t[1];return Object(r.useEffect)((function(){var e=function(e){return function(t){if(window.getSelection&&t instanceof ClipboardEvent&&t.clipboardData)return function(e){if(!window.getSelection||!e.clipboardData)return!1;var t=window.getSelection();if(t&&t.toString()===n.ShareUrl)return e.clipboardData.setData("text/html",'Learn about the limits of LoRaWAN, using the online <a href="'.concat(window.location.href,'">airtime calculator</a>.')),e.clipboardData.setData("text/plain","Learn about the limits of LoRaWAN, using the online airtime calculator at ".concat(window.location.href)),e.preventDefault(),!0;return!1}(t)?void e({title:"A shareable URL was copied",content:l.a.createElement(l.a.Fragment,null,"The URL shares the current settings for region, overhead size and payload size. Some of those may be the default values, hence not explicitly visible in the URL.")}):function(){if(window.getSelection){var e=(window.getSelection()||"").toString();return""!==e&&e!==n.Default}return!1}()?void e({title:l.a.createElement(l.a.Fragment,null,"The selected text was copied"),content:l.a.createElement(l.a.Fragment,null,null!==N()?l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("strong",null,"Did you intend to copy the tooltip?")," Then ensure no text is selected when copying.")):l.a.createElement("p",null,"To copy a tooltip, ensure no text is selected. (And use the keyboard on a desktop browser.)"),l.a.createElement("p",null,"To copy the result grid, make sure no text is selected and no tooltip is shown."))}):function(e){if(!e.clipboardData)return!1;var t=N();if(t)return t instanceof HTMLElement&&t.innerHTML&&e.clipboardData.setData("text/html",t.innerHTML),t&&t.textContent&&e.clipboardData.setData("text/plain",t.textContent),e.preventDefault(),!0;return!1}(t)?void e({title:"The tooltip text was copied",content:"To copy the result grid, make sure no tooltip is shown while copying."}):function(e){if(!e.clipboardData)return!1;var t=document.querySelector('[role="table"]');if(t){var a=t.getAttribute("data-label"),n=A(t,"rowgroup"),r=A(n[0],"columnheader"),l=A(n[1],"row"),o="<thead>\n<tr>".concat(r.map((function(e){return"<th>".concat(e.textContent,"</th>")})).join(""),"</tr>\n</thead>"),c="<tbody>\n".concat(l.map((function(e){return A(e,"cell")})).map((function(e){return"<tr>".concat(e.map((function(e){return"<td>".concat(e.textContent,"</td>")})).join(""),"</tr>")})).join("\n"),"\n</tbody>"),i="<table>\n".concat(o,"\n").concat(c,"\n</table>").replace(/\u200B\u200B/g,"&lt;br>").replace(/\u200B/g," ");return e.clipboardData.setData("text/html","<p>".concat(a,"</p>\n").concat(i,'\n<p>See <a href="').concat(window.location.href,'">the airtime calculator</a> for many more details and interactive results.</p>')),e.clipboardData.setData("text/plain","Unfortunately, the table layout is not supported when pasting as plain text.\n\nPlease paste as formatted text, or see ".concat(window.location.href," for many more details and formatted, interactive results.")),e.preventDefault(),!0}return!1}(t)?void e({title:"The result grid was copied",content:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"To copy a tooltip, make sure it's shown while copying. (And use the keyboard on a desktop browser.)"))}):void e({title:"Action failed",content:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Somehow copying failed. Care to"," ",l.a.createElement("a",{href:"https://github.com/avbentem/airtime-calculator/issues"},"share more details"),"?"))});e({title:"Unsupported browser",content:"Your browser does not support the enhanced copy function to copy the tooltip or result grid."})}}(o);return window.addEventListener("copy",e),function(){return window.removeEventListener("copy",e)}}),[]),{notification:a}}function N(){return document.querySelector('[role="tooltip"] .tooltip-inner')}function A(e,t){return Array.from(e.querySelectorAll('[role="'.concat(t,'"]')))}function F(e){var t=window.getSelection&&window.getSelection();if(!t)return!1;var a=document.createElement("p");a.textContent=e,document.body.appendChild(a);var n=document.createRange();n.setStartBefore(a),n.setEndAfter(a);var r=t.rangeCount>0&&t.getRangeAt(0);return t.removeAllRanges(),t.addRange(n),document.execCommand("copy"),t.removeAllRanges(),r&&t.addRange(r),document.body.removeChild(a),!0}!function(e){e.Default="CLIPBOARD_ACTION_DEFAULT",e.ShareUrl="CLIPBOARD_ACTION_URL"}(n||(n={}));var D=[{name:"LinkCheckReq",size:0},{name:"LinkAdrAns",size:1},{name:"DutyCycleAns",size:0},{name:"RXParamSetupAns",size:1},{name:"DevStatusAns",size:2},{name:"NewChannelAns",size:1},{name:"DlChannelAns",size:1},{name:"RXTimingSetupAns",size:0},{name:"TxParamSetupAns",size:0}],T=[{name:"LinkCheckAns",size:2},{name:"LinkAdrReq",size:4},{name:"DutyCycleReq",size:1},{name:"RXParamSetupReq",size:4},{name:"DevStatusReq",size:0},{name:"NewChannelReq",size:5},{name:"DlChannelReq",size:4},{name:"RXTimingSetupReq",size:1},{name:"TxParamSetupReq",size:1}],L=a(85),I=a(75),P=a(74);a(194);function W(e){var t=e.content,a=e.showIcon,n=void 0!==a&&a,o=e.placement,c=void 0===o?"auto-end":o,i=e.children,s=Object(r.useState)((function(){return Object(P.uniqueId)("HelpTooltip-")})),u=Object(m.a)(s,1)[0];return t?l.a.createElement(L.a,{placement:c,overlay:l.a.createElement(I.a,{id:u},t)},l.a.createElement("div",null,i,n&&l.a.createElement("sup",null,l.a.createElement("small",{className:"text-muted"},"\u24d8")))):l.a.createElement(l.a.Fragment,null,i)}function M(e){return{value:""+e.value,onChange:function(t){var a=t.currentTarget;e.setValue("number"===typeof e.value?+a.value:a.value)}}}var U=a(35),B=a(37);a(196);function q(e){var t=e.min,a=void 0===t?0:t,n=e.max,o=e.value,c=e.setValue;return Object(r.useEffect)((function(){c(o)}),[o,c]),l.a.createElement(B.a,null,l.a.createElement(B.a.Prepend,null,l.a.createElement(w.a,{onClick:function(){o>a&&c(o-1)},variant:"outline-secondary","aria-label":"Decrease"},"-")),l.a.createElement(U.a,Object.assign({},M({value:o,setValue:c}),{type:"number",className:"NumberInput",min:a,placeholder:"Enter number"})),l.a.createElement(B.a.Append,null,l.a.createElement(w.a,{onClick:function(){("undefined"===typeof n||o<n)&&c((function(e){return e+1}))},variant:"outline-secondary","aria-label":"Increase"},"+")))}var _=a(86),G=a(54),V=a(76),J={payloadSize:12,headerSize:13,codingRate:"4/5"};function H(e){function t(e){var t=Object(r.useState)(e),a=Object(m.a)(t,2);return{value:a[0],setValue:a[1]}}var a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a={},n=t.split(",").map((function(e){return e.trim()})),r=Object(V.a)(n);try{var l=function(){var t=e.value;if(""===t)return"continue";if(/^\d+$/.test(t))return a.payloadSize?a.headerSize?console.warn("Ignored numeric value ".concat(t,"; already parsed both payloadSize and headerSize")):a.headerSize=+t:a.payloadSize=+t,"continue";if(/^cr4[5678]$/i.test(t))return a.codingRate?console.warn("Ignored string value ".concat(t,"; already parsed codingRate")):a.codingRate=t.substr(2).split("").join("/"),"continue";var n=t.toLowerCase(),r=D.concat(T).find((function(e){return e.name.toLowerCase()===n}));r?a.macCommands=(a.macCommands||[]).concat(r):console.warn("Ignored string value ".concat(t,"; no matching MAC command found"))};for(r.s();!(e=r.n()).done;)l()}catch(o){r.e(o)}finally{r.f()}return Object(G.a)(Object(G.a)({},J),a)}(e.userConfig),o=t(a.payloadSize),c=t(a.headerSize),i=t(a.codingRate),s=t(a.macCommands);function u(e){var t;s.setValue((s.value||[]).concat(e)),t=e.size+1,c.setValue((function(e){return e+t}))}Object(r.useEffect)((function(){e.setPacketSize(c.value+o.value)}),[e,c.value,o.value]),Object(r.useEffect)((function(){e.setCodingRate(i.value)}),[e,i.value]),Object(r.useEffect)((function(){e.setUserConfig(function(e,t,a,n){var r=[];return e===J.payloadSize&&t===J.headerSize||r.push(e),t!==J.headerSize&&r.push(t),a&&a!==J.codingRate&&r.push("cr"+a.replace("/","")),n&&r.push.apply(r,Object(_.a)(n.map((function(e){return e.name})))),r.join(",")}(o.value,c.value,i.value,s.value))}),[e,c.value,o.value,i.value,s.value]);var d=D.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement(S.a,{onClick:function(){return u(e)},pill:!0,variant:a.macCommands&&a.macCommands.includes(e)?"primary":"secondary"},e.name," ",e.size),"\xa0")}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,null,l.a.createElement(j.a.Row,{className:"justify-content-center"},l.a.createElement(j.a.Group,{as:p.a,xs:4,sm:3,lg:2,controlId:"formOverheadSize"},l.a.createElement(W,{showIcon:!0,content:l.a.createElement(l.a.Fragment,null,"For a data uplink and downlink, the overhead is at least 12 bytes: MHDR (1), DevAddr (4), FCtrl (1), FCnt (2) and MIC (4). When an application payload is present, FPort (1) is given too. Also, FOpts may include up to 15 bytes for MAC commands.")},l.a.createElement(j.a.Label,null,"overhead size")),l.a.createElement(q,Object.assign({},c,{min:12,max:28}))),l.a.createElement(j.a.Group,{as:p.a,xs:4,sm:3,lg:2,controlId:"formApplicationPayloadSize"},l.a.createElement(W,{showIcon:!0,content:l.a.createElement(l.a.Fragment,null,"The application payload size. Maximum 222 bytes, assuming 13 bytes of overhead. May be empty for a simple ACK or if the packet only includes MAC commands. For the time on air, only the ",l.a.createElement("em",null,"total")," size matters, being the overhead size plus the application payload size.")},l.a.createElement(j.a.Label,null,"payload size")),l.a.createElement(q,Object.assign({},o,{max:222}))),"4/5"!==i.value&&l.a.createElement(j.a.Group,{as:p.a,xs:4,sm:3,lg:2,controlId:"formCodingRate"},l.a.createElement(W,{showIcon:!0,content:"The coding rate (CR) used for forward error correction (FEC). Always 4/5 for LoRaWAN."},l.a.createElement(j.a.Label,null,"coding rate")),l.a.createElement(j.a.Control,Object.assign({as:"select"},M(i)),l.a.createElement("option",{value:"4/5"},"4/5"),l.a.createElement("option",{value:"4/6"},"4/6"),l.a.createElement("option",{value:"4/7"},"4/7"),l.a.createElement("option",{value:"4/8"},"4/8"))),l.a.createElement(j.a.Group,{as:p.a,xs:3,sm:2,md:1,controlId:"formShare"},l.a.createElement(W,{showIcon:!0,content:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"Use ",l.a.createElement(C.a,{size:"1em"})," or your keyboard to copy any selected text, if applicable. Otherwise, when a tooltip is active, the tooltip's text is copied. (This needs the keyboard on a desktop browser.) Or else, this copies the results."),l.a.createElement("p",null,"Use ",l.a.createElement(C.b,{size:"1em"})," to copy a shareable URL."))},l.a.createElement(j.a.Label,null,"share")),l.a.createElement("div",null,l.a.createElement(x.a,null,l.a.createElement(w.a,{variant:"outline-secondary","aria-label":"Copy",onClick:function(e){document.execCommand("copy")||F(n.Default)||alert("Sorry, it seems your browser does not support this."),e.currentTarget.blur()}},l.a.createElement(C.a,{size:"1em"})),l.a.createElement(w.a,{variant:"outline-secondary","aria-label":"Share",onClick:function(e){F(n.ShareUrl)||alert("Sorry, your browser does not support this. Please copy the URL from the location bar."),e.currentTarget.blur()}},l.a.createElement(C.b,{size:"1em"})))))),a.macCommands&&l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a.Row,{className:"justify-content-md-center"},l.a.createElement(p.a,{md:"8"},l.a.createElement(j.a.Label,null,"MAC command"),l.a.createElement(O.a,{"aria-label":"MAC commands"},d))),l.a.createElement("br",null))))}var X=a(79),$=a.n(X);var K=a(80),Y=a(81),Z=function(){function e(){Object(K.a)(this,e)}return Object(Y.a)(e,null,[{key:"calculate",value:function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"4/5",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"auto",l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:8,c=Math.pow(2,t)/(1e3*a)*1e3,i=(o+4.25)*c,s=l?0:1,u="auto"===r&&125===+a&&+t>=11||!0===r?1:0,m=+n[2]-4,d=8+Math.max(Math.ceil((8*e-4*t+28+16-20*s)/(4*(t-2*u)))*(m+4),0),f=d*c;return i+f}}]),e}();function Q(e){var t,a,n=e.region,o=e.selectedPacketSize,c=e.codingRate,i=function(){var e=Object(r.useState)(-1),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){var e=function(){return n(window.innerWidth)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}(),s=Object(r.useRef)({data:[],layout:{xaxis:{autorange:!1}},frames:[]}),u=Object(r.useRef)({dataVisible:[],lastWindowWidth:-1,xaxis:{autoRange:!1,range:void 0}}),d=Object(r.useState)(0),f=Object(m.a)(d,2),p=f[0],h=f[1],g=Object(r.useState)(!1),E=Object(m.a)(g,2),v=E[0],b=E[1],y=Object(r.useState)(!1),R=Object(m.a)(y,2),z=R[0],S=R[1];console.log("RENDER; FIGUREREF ",JSON.parse(JSON.stringify(s.current)));if(Object(r.useEffect)((function(){console.log("EFFECT [region, codingRate]"),u.current.dataVisible=[],h((function(e){return++e}))}),[n,c]),Object(r.useEffect)((function(){console.log("EFFECT [selectedPacketSize, windowWidth, buttonRef.current.xaxisFullRange]")}),[o,i]),!c)return console.log("NO CODING RATE"),null;var O=n.dataRates.map((function(e,t){var a,n=e.maxMacPayloadSize+5,r=Array.from(Array(n+1).keys()),l=r.map((function(t){return{y:Z.calculate(t,e.sf,e.bw,c),size:t===o?8:4}})),i=null!==(a=u.current.dataVisible[t])&&void 0!==a?a:"low"!==e.highlight||"legendonly";return console.log("VISIBLE",e.name,u.current.dataVisible[t],i),{x:r,y:l.map((function(e){return e.y})),hovertemplate:"%{y:,.1f} ms<extra>%{x} bytes on %{fullData.name}</extra>",marker:{size:l.map((function(e){return e.size}))},type:"scatter",mode:"lines+markers",hoverinfo:"x+text+name",visible:i,name:"".concat(e.name," SF").concat(e.sf,"BW").concat(e.bw),connectgaps:!0,line:{shape:"hvh",dash:"dot",width:.5}}})),j=[0,(i-312)/6],k=u.current.xaxis.autoRange;console.log("RANGE",u.current);var N=(v||u.current.lastWindowWidth===i)&&null!==(t=null===(a=u.current.xaxis)||void 0===a?void 0:a.range)&&void 0!==t?t:j;u.current.lastWindowWidth=i;var A={autosize:!0,margin:{l:70,t:0,r:5},dragmode:"pan",xaxis:{autorange:k,range:N,title:"total packet size (overhead + application payload)",ticks:"outside",fixedrange:v},yaxis:{type:z?"log":"linear",title:z?"airtime (ms, logarithmic)":"airtime (ms)",ticks:"outside",autorange:!0,fixedrange:!0,rangemode:"tozero",separatethousands:!0},legend:{orientation:"h",y:-.2,xanchor:"center",x:.5}};return l.a.createElement(l.a.Fragment,null,l.a.createElement($.a,{style:{width:"100%",height:"400px"},revision:p,useResizeHandler:!0,data:O,layout:A,onUpdate:function(e){console.log("ON UPDATE",JSON.parse(JSON.stringify(e))),function(e){if(c){var t,a,n,r;console.log("UPDATE FIGURE parsed ",JSON.parse(JSON.stringify(e)),c),s.current=e;var l,o=null===(t=s.current.layout.xaxis)||void 0===t?void 0:t.autorange,i=null===(a=s.current.layout.xaxis)||void 0===a?void 0:a.range;if(i&&i[0]<0&&s.current.layout.xaxis&&(s.current.layout.xaxis.range=[0,i[1]-(o?0:i[0])],s.current.layout.xaxis.autorange=!1,h((function(e){return++e})),console.log("FIX RANGE",i[0],s.current.layout.xaxis.range)),u.current.dataVisible=e.data.map((function(e){return e.visible})),u.current.xaxis.autoRange=null===(n=e.layout.xaxis)||void 0===n?void 0:n.autorange,null===(r=e.layout.xaxis)||void 0===r?void 0:r.range)u.current.xaxis.range=null===(l=e.layout.xaxis)||void 0===l?void 0:l.range;console.log("BUTTON REF parsed",JSON.parse(JSON.stringify(u.current)))}}(e)},config:{responsive:!0,displayModeBar:!1,showEditInChartStudio:!1,showTips:!1}}),l.a.createElement(x.a,null,l.a.createElement(W,{content:l.a.createElement(l.a.Fragment,null,"Toggle the vertical axis between a linear and logarithmic scale.")},l.a.createElement(w.a,{variant:"outline-secondary","aria-label":"Share",onClick:function(e){S((function(e){return!e}))}},l.a.createElement(C.d,{size:"1em"}),"\xa0set vertical scale")),"\xa0",l.a.createElement(W,{content:l.a.createElement(l.a.Fragment,null,"Compress the horizontal range to include all allowed payload sizes, or use a scrollable range with a fixed-width scale per payload size.")},l.a.createElement(w.a,{variant:"outline-secondary","aria-label":"Copy",onClick:function(e){var t=!v;u.current.xaxis.autoRange=t,t||(u.current.xaxis.range=void 0),console.log("TOGGLE ZOOM",t),b(t)}},l.a.createElement(C.c,{size:"1em"}),"\xa0set horizontal range"))),l.a.createElement("br",null))}function ee(e,t){return e.toLocaleString("en-US",{minimumFractionDigits:t,maximumFractionDigits:t})}function te(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce((function(e,t){return t?e+(e&&"."!==e.slice(-1)?". ":e?" ":"")+t+(e&&"."!==t.slice(-1)?".":""):e}),"")||void 0}function ae(e){var t,a=e.region,n=e.dr,r=e.size,o=e.airtime,c=e.maxPhyPayloadSize,i=o/.01/1e3,s=3e4/o,u=86400/s,m=a.maxDwellTime||0,d=m>0&&o>m,f=n.maxMacPayloadSize&&r>c;return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{content:te(n.notes,n.maxMacPayloadSize&&(f?"The total payload of ".concat(r," bytes exceeds the maximum packet size of ").concat(c," bytes for ").concat(a.label," SF").concat(n.sf,"BW").concat(n.bw):"For ".concat(a.label," SF").concat(n.sf,"BW").concat(n.bw," the maximum total packet size is ").concat(c," bytes")))},l.a.createElement("div",{className:"Result-datarate ".concat(f?"Result-has-warning":n.notes?"Result-has-note":""),role:"cell"},l.a.createElement("div",{className:"Result-dr"},n.name),l.a.createElement("div",null,"\u200b\u200b",l.a.createElement("span",{className:"Result-sf"},"SF",n.sf),"\u200b\u200b",l.a.createElement("span",{className:"Result-unit Result-unit-bw"},"BW",l.a.createElement("br",null),n.bw)),f&&l.a.createElement("div",{className:"Result-datarate-warning"},"\u200b\u200bmax size exceeded"))),l.a.createElement(W,{content:l.a.createElement(l.a.Fragment,null,"On SF",n.sf,"BW",n.bw,", a total packet size of ",r," bytes"," ",l.a.createElement("a",{href:window.location.href},"needs ",ee(o,2)," milliseconds time on air"),".",d&&l.a.createElement(l.a.Fragment,null," ","This exceeds the maximum dwell time of ",m," milliseconds for"," ",a.label,"."))},l.a.createElement("div",{className:"Result-airtime ".concat(d?"Result-has-warning":""),role:"cell"},l.a.createElement("div",null,ee(o,1),"\u200b",l.a.createElement("span",{className:"Result-unit"},"ms")),d&&l.a.createElement("div",{className:"Result-airtime-warning"},"\u200b\u200bmax dwell time exceeded"))),l.a.createElement(W,{content:l.a.createElement(l.a.Fragment,null,"If regional legal or LoRaWAN maximum duty cycles apply, then a 1% maximum duty cycle needs a ",l.a.createElement("em",null,"minimum")," of ",ee(i,2)," seconds between ",l.a.createElement("em",null,"any")," subsequent packet starts in the same subband.")},l.a.createElement("div",{className:"Result-dutycycle",role:"cell"},l.a.createElement("div",null,ee(i,1),"\u200b",l.a.createElement("span",{className:"Result-unit"},"sec"),"\u200b\u200b"),l.a.createElement("div",null,ee(Math.floor(3600/i),0),"\u200b",l.a.createElement("span",{className:"Result-unit"},"msg",l.a.createElement("br",null),"/hour")))),l.a.createElement(W,{content:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"The ",l.a.createElement("a",{href:"https://www.thethingsnetwork.org/forum/t/1300"},"TTN Fair Access Policy")," ","allows for at most 30 seconds time on air per device, per 24 hours. So, an"," ",l.a.createElement("a",{href:window.location.href},"airtime of ",ee(o,1)," milliseconds for ",r," bytes on SF",n.sf,"BW",n.bw)," ","imposes a limit of ",ee(s,1)," messages per day."),"\n\n",l.a.createElement("p",null,"When transmitting all day, ",l.a.createElement("strong",null,"on average")," this needs a minimum of"," ",(t=u,t>=120.05?"".concat(ee(t/60,1)," minutes"):"".concat(ee(t,1)," seconds"))," between the starts of two uplinks, or a maximum of"," ",ee(s/24,1),"\xa0messages per hour."))},l.a.createElement("div",{className:"Result-fairaccess",role:"cell"},l.a.createElement("div",{className:"Result-fairaccess-messages"},ee(86400/s,1),"\u200b",l.a.createElement("span",{className:"Result-unit"},"sec\u200b",l.a.createElement("br",null),"(avg)"),"\u200b\u200b"),l.a.createElement("div",null,l.a.createElement("span",{className:"Result-fairaccess-messages-per-hour"},ee(s/24,1)),"\u200b",l.a.createElement("span",{className:"Result-unit Result-unit-hour"},"avg",l.a.createElement("br",null),"/hour"),"\u200b\u200b"),l.a.createElement("div",{className:"Result-fairaccess-messages-per-day"},ee(Math.floor(s),0),"\u200b",l.a.createElement("span",{className:"Result-unit"},"msg",l.a.createElement("br",null),"/24h")))))}function ne(e){var t=e.region,a=e.packetSize,n=e.codingRate;if(!n)return null;var r=t.dataRates.map((function(e,r){var o=Z.calculate(a,e.sf,e.bw,n),c=e.maxMacPayloadSize+5,i=t.maxDwellTime&&o>t.maxDwellTime||e.maxMacPayloadSize&&a>c,s="Results-result-".concat(r%2?"odd":"even"),u="Results-result-highlight-".concat(i?"warning":e.highlight||"none");return l.a.createElement("div",{key:e.name,className:"Results-result ".concat(s," ").concat(u),role:"row"},l.a.createElement(ae,{size:a,region:t,dr:e,airtime:o,maxPhyPayloadSize:c}))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"Results-grid Results-grid-".concat(r.length),role:"table","data-label":"Time on air and limitations for a full LoRaWAN packet of ".concat(a," bytes in ").concat(t.label,":")},l.a.createElement("div",{role:"rowgroup"},l.a.createElement("div",{className:"Results-legend",role:"row"},l.a.createElement("div",{role:"columnheader"},"data rate"),l.a.createElement("div",{role:"columnheader"},"airtime"),l.a.createElement("div",{role:"columnheader"},"1%\xa0max duty\xa0cycle"),l.a.createElement("div",{role:"columnheader"},"fair access policy"))),l.a.createElement("div",{role:"rowgroup"},r)))}a(201);function re(e){var t=e.children,a=Object(r.useRef)(null),n=Object(r.useState)(!1),o=Object(m.a)(n,2),c=o[0],i=o[1],s=Object(r.useState)(!1),u=Object(m.a)(s,2),d=u[0],f=u[1],p=function(e){var t=a.current;t&&t.scrollBy(e,0)};return Object(r.useEffect)((function(){var e=a.current,t=function(){if(e){var t=e.scrollLeft>0,a=e.scrollWidth-e.offsetWidth>e.scrollLeft+1;i(t),f(a)}else console.log("No scroll element")};if(e)return t(),window.addEventListener("resize",t),e.addEventListener("scroll",t),function(){e.removeEventListener("scroll",t),window.removeEventListener("resize",t)}}),[]),l.a.createElement("div",{className:"d-flex justify-content-center align-items-center horizontal-scroll"+(c?" horizontal-scroll--overflow-left":"")+(d?" horizontal-scroll--overflow-right":"")},l.a.createElement("div",{className:"horizontal-scroll__button"+(c?" horizontal-scroll__button--enabled":""),onClick:function(){p(-40)}},"\u2039"),l.a.createElement("div",{className:"horizontal-scroll__content table-responsive",ref:a},t),l.a.createElement("div",{className:"horizontal-scroll__button"+(d?" horizontal-scroll__button--enabled":""),onClick:function(){p(40)}},"\u203a"))}function le(e,t,a){var n=t.pathname.split("/"),r=Object(m.a)(n,4),l=r[1],o=r[2],c=r[3],i=a.networks.find((function(e){return e.name===l})),s=i?i.regions.find((function(e){return e.name===o})):void 0;return{network:i,region:s,parameters:c}}function oe(e,t,a,n,r,l){var o=le(0,t,a),c=void 0===l?o.parameters:l,i="/"+n.name+"/"+r.name+(c?"/"+c:"");t.pathname!==i&&e.replace(i)}function ce(e){var t=Object(r.useState)(null),a=Object(m.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(null),i=Object(m.a)(c,2),s=i[0],u=i[1],d=oe.bind(null,e.history,e.location,e.config),f=le(e.history,e.location,e.config),h=f.network,E=f.region,v=f.parameters;if(!h){var b=e.config.networks[0],y=b.regions.find((function(e){return e.name===b.defaultRegion}));return d(b,y),null}if(!E){var R=h.regions.find((function(e){return e.name===h.defaultRegion}));return d(h,R),null}return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,null,l.a.createElement(p.a,null,l.a.createElement(re,null,l.a.createElement(x.a,null,h.regions.map((function(e){return l.a.createElement(w.a,{variant:"outline-primary",size:"sm",active:e.name===E.name,disabled:!e.dataRates,key:e.name,onClick:function(){return function(e){d(h,e)}(e)}},e.label)})))))),l.a.createElement(g.a,null,l.a.createElement("hr",null)),l.a.createElement(g.a,{className:"justify-content-sm-center"},l.a.createElement(p.a,null,l.a.createElement("h3",null,E.title))),l.a.createElement(g.a,{className:"justify-content-center"},l.a.createElement(p.a,null,l.a.createElement(H,{userConfig:v,setUserConfig:function(e){d(h,E,e)},setPacketSize:function(e){o(e)},setCodingRate:function(e){u(e)}}))),l.a.createElement(g.a,{className:"justify-content-center"},l.a.createElement(p.a,null,l.a.createElement(ne,{region:E,packetSize:n,codingRate:s}),l.a.createElement("hr",null))),l.a.createElement(g.a,{className:"justify-content-md-center"},l.a.createElement(p.a,{md:"8"},E.limitations&&l.a.createElement(z.a,{source:E.limitations}))),l.a.createElement(g.a,{className:"justify-content-md-center"},l.a.createElement(p.a,{md:"8"},l.a.createElement("p",null,"Due to fixed-length blocks of bytes used for forward error correction, a change in the payload size does not always imply a change in the time on air. The following graph shows the time on air for all ",l.a.createElement("em",null,"total")," payload sizes allowed for each applicable data rate for ",E.label,", highlighting the currently selected total packet size of"," ",n," bytes."))),l.a.createElement(g.a,{className:"Graph justify-content-center"},l.a.createElement(p.a,null,l.a.createElement(Q,{region:E,selectedPacketSize:n,codingRate:s}))),l.a.createElement(g.a,{className:"justify-content-md-center"},l.a.createElement(p.a,{md:"8"},E.countries&&l.a.createElement(z.a,{source:E.countries}))))}var ie=a(38);a(202);function se(e){var t=e.notification,a=Object(r.useState)(0),n=Object(m.a)(a,2),o=n[0],c=n[1],i=Object(r.useState)(0),s=Object(m.a)(i,2),u=s[0],d=s[1],f=Object(r.useRef)(0);Object(r.useEffect)((function(){if(t){var e=ue(t.title)+ue(t.content),a=Math.max(3e3,70*e.length);c(Date.now()+a)}}),[t]),Object(r.useEffect)((function(){f.current&&window.clearTimeout(f.current),o-u>0&&(f.current=window.setTimeout((function(){f.current=null,d(Date.now())}),1e3))}),[o,u]);var p=function(){c(Date.now())},h=(o-Date.now())/1e3;return h<=0||!t?null:l.a.createElement(ie.a,{className:"Toast",onClose:p,onClick:p},l.a.createElement(ie.a.Header,null,l.a.createElement("strong",{className:"mr-auto header"},t.title),l.a.createElement("small",null,h.toFixed(0))),t.content?l.a.createElement(ie.a.Body,null,t.content):null)}function ue(e){if(!e)return"";if("string"===typeof e)return e;var t=e.props&&e.props.children;return t instanceof Array?t.map(ue).join(""):ue(t)}function me(){var e="/airtime-calculator/config.json",t=Object(r.useState)("Loading configuration..."),a=Object(m.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)({}),i=Object(m.a)(c,2),d=i[0],E=i[1];Object(r.useEffect)((function(){var t=!1;return function(){var a=Object(u.a)(s.a.mark((function a(){var n;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,f.a.get(e);case 3:n=a.sent.data,t||(o(null),E(n)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),o("Failed to load configuration ".concat("/airtime-calculator"," ").concat(e,": ").concat(a.t0));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(){return a.apply(this,arguments)}}()(),function(){t=!0}}),[e]);var w=k().notification;return l.a.createElement(b.a,{basename:"/airtime-calculator"},l.a.createElement(h.a,{fluid:!0,className:"App"},l.a.createElement(se,{notification:w}),l.a.createElement(g.a,null,l.a.createElement(p.a,null,l.a.createElement("h1",null,"Airtime calculator for LoRaWAN"),l.a.createElement("p",null,n))),d.networks&&l.a.createElement(y.a,{render:function(e){return l.a.createElement(ce,Object.assign({},e,{config:d}))}}),l.a.createElement(v.a,{href:"https://github.com/avbentem/airtime-calculator"})))}a(204),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},87:function(e,t,a){e.exports=a(205)}},[[87,1,2]]]);
//# sourceMappingURL=main.ca1ea9d6.chunk.js.map